/*  Rapid+JS v6.0.1 Released on 2021-01-11T17:45Z | (c) Yottaa, Inc. | https://www.yottaa.com/rapidjs-license */ var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(h,r,p){if(null==h)throw new TypeError("The 'this' value for String.prototype."+p+' must not be null or undefined');if(r instanceof RegExp)throw new TypeError('First argument to String.prototype.'+p+' must not be a regular expression');return h+''};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1; $jscomp.defineProperty=$jscomp.ASSUME_ES5||'function'==typeof Object.defineProperties?Object.defineProperty:function(h,r,p){h!=Array.prototype&&h!=Object.prototype&&(h[r]=p.value)};$jscomp.getGlobal=function(h){return'undefined'!=typeof window&&window===h?h:'undefined'!=typeof global&&null!=global?global:h};$jscomp.global=$jscomp.getGlobal(this); $jscomp.polyfill=function(h,r,p,A){if(r){p=$jscomp.global;h=h.split('.');for(A=0;A<h.length-1;A++){var q=h[A];q in p||(p[q]={});p=p[q]}h=h[h.length-1];A=p[h];r=r(A);r!=A&&null!=r&&$jscomp.defineProperty(p,h,{configurable:!0,writable:!0,value:r})}}; $jscomp.polyfill('String.prototype.startsWith',function(h){return h?h:function(h,p){var r=$jscomp.checkStringArgs(this,h,'startsWith');h+='';var q=r.length,D=h.length;p=Math.max(0,Math.min(p|0,r.length));for(var m=0;m<D&&p<q;)if(r[p++]!=h[m++])return!1;return m>=D}},'es6','es3');$jscomp.arrayIteratorImpl=function(h){var r=0;return function(){return r<h.length?{done:!1,value:h[r++]}:{done:!0}}};$jscomp.arrayIterator=function(h){return{next:$jscomp.arrayIteratorImpl(h)}}; $jscomp.makeIterator=function(h){var r='undefined'!=typeof Symbol&&Symbol.iterator&&h[Symbol.iterator];return r?r.call(h):$jscomp.arrayIterator(h)};$jscomp.FORCE_POLYFILL_PROMISE=!1; $jscomp.polyfill('Promise',function(h){function r(){this.batch_=null}function p(m){return m instanceof q?m:new q(function(h,q){h(m)})}if(h&&!$jscomp.FORCE_POLYFILL_PROMISE)return h;r.prototype.asyncExecute=function(m){if(null==this.batch_){this.batch_=[];var h=this;this.asyncExecuteFunction(function(){h.executeBatch_()})}this.batch_.push(m)};var A=$jscomp.global.setTimeout;r.prototype.asyncExecuteFunction=function(m){A(m,0)};r.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var m= this.batch_;this.batch_=[];for(var h=0;h<m.length;++h){var q=m[h];m[h]=null;try{q()}catch(Y){this.asyncThrow_(Y)}}}this.batch_=null};r.prototype.asyncThrow_=function(m){this.asyncExecuteFunction(function(){throw m;})};var q=function(m){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var h=this.createResolveAndReject_();try{m(h.resolve,h.reject)}catch(G){h.reject(G)}};q.prototype.createResolveAndReject_=function(){function m(m){return function(p){q||(q=!0,m.call(h,p))}}var h=this,q=!1; return{resolve:m(this.resolveTo_),reject:m(this.reject_)}};q.prototype.resolveTo_=function(m){if(m===this)this.reject_(new TypeError('A Promise cannot resolve to itself'));else if(m instanceof q)this.settleSameAsPromise_(m);else{a:switch(typeof m){case 'object':var h=null!=m;break a;case 'function':h=!0;break a;default:h=!1}h?this.resolveToNonPromiseObj_(m):this.fulfill_(m)}};q.prototype.resolveToNonPromiseObj_=function(m){var h=void 0;try{h=m.then}catch(G){this.reject_(G);return}'function'==typeof h? this.settleSameAsThenable_(h,m):this.fulfill_(m)};q.prototype.reject_=function(h){this.settle_(2,h)};q.prototype.fulfill_=function(h){this.settle_(1,h)};q.prototype.settle_=function(h,q){if(0!=this.state_)throw Error('Cannot settle('+h+', '+q+'): Promise already settled in state'+this.state_);this.state_=h;this.result_=q;this.executeOnSettledCallbacks_()};q.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var h=0;h<this.onSettledCallbacks_.length;++h)D.asyncExecute(this.onSettledCallbacks_[h]); this.onSettledCallbacks_=null}};var D=new r;q.prototype.settleSameAsPromise_=function(h){var m=this.createResolveAndReject_();h.callWhenSettled_(m.resolve,m.reject)};q.prototype.settleSameAsThenable_=function(h,q){var m=this.createResolveAndReject_();try{h.call(q,m.resolve,m.reject)}catch(Y){m.reject(Y)}};q.prototype.then=function(h,p){function m(h,m){return'function'==typeof h?function(m){try{r(h(m))}catch(ea){A(ea)}}:m}var r,A,da=new q(function(h,m){r=h;A=m});this.callWhenSettled_(m(h,r),m(p,A)); return da};q.prototype.catch=function(h){return this.then(void 0,h)};q.prototype.callWhenSettled_=function(h,q){function m(){switch(p.state_){case 1:h(p.result_);break;case 2:q(p.result_);break;default:throw Error('Unexpected state: '+p.state_);}}var p=this;null==this.onSettledCallbacks_?D.asyncExecute(m):this.onSettledCallbacks_.push(m)};q.resolve=p;q.reject=function(h){return new q(function(m,q){q(h)})};q.race=function(h){return new q(function(m,q){for(var r=$jscomp.makeIterator(h),A=r.next();!A.done;A= r.next())p(A.value).callWhenSettled_(m,q)})};q.all=function(h){var m=$jscomp.makeIterator(h),r=m.next();return r.done?p([]):new q(function(h,q){function A(m){return function(q){D[m]=q;G--;0==G&&h(D)}}var D=[],G=0;do D.push(void 0),G++,p(r.value).callWhenSettled_(A(D.length-1),q),r=m.next();while(!r.done)})};return q},'es6','es3'); $jscomp.polyfill('String.prototype.endsWith',function(h){return h?h:function(h,p){var r=$jscomp.checkStringArgs(this,h,'endsWith');h+='';void 0===p&&(p=r.length);p=Math.max(0,Math.min(p|0,r.length));for(var q=h.length;0<q&&0<p;)if(r[--p]!=h[--q])return!1;return 0>=q}},'es6','es3'); (function(h,r){r(h)})('undefined'!==typeof self?self:this,function(h,r){function p(){var a='0123456789abcdef'.split(''),b=[],c=Math.random;b[8]=b[13]=b[18]=b[23]='-';b[14]='4';for(var d=0;36>d;d++)if(!b[d]){var e=0|16*c();b[d]=a[19==d?e&3|8:e&15]}return b.join('')}function A(a){return f.rum.key+'-'+a}function q(){for(var a=f.rum.key?f.rum.key:k.getCookie('yo-rum-key'),b=0,c=0,d=0,e=0;e<f.delayed.length;e++){var n=f.delayed[e];'none'!=n.orgDelayType&&(fa='active',n.newNode&&n.newNode.nodeName?'img'== n.newNode.nodeName.toLowerCase()?c++:'script'==n.newNode.nodeName.toLowerCase()&&'attributesrc'!=n.type&&b++:n.me&&n.me.nodeName&&'script'==n.me.nodeName.toLowerCase()&&d++)}e=null!=a?a:window.location.hostname;a=pa;n=document.location.href;var t=navigator.userAgent,h=document.title,l=k.hasResourceTiming()&&k.def(window.performance.timing.toJSON),m=k.hasResourceTiming(),q=k.hasResourceTiming(),r=k.metaDataValue('X-Yottaa-Optimizations'),ob=(new Date).getTime();if(0==k.hasResourceTiming()||0==k.def(window.performance.getEntriesByType))var F= {};else{F=window.performance.getEntriesByType('resource');for(var z=F.length,v={},u=0;u<z;u++){var w=F[u],y=v[w.initiatorType];y?(y.count++,y.size+=w.decodedBodySize):v[w.initiatorType]={count:1,size:w.decodedBodySize}}F=v}b={siteKey:e,uuid:a,formatVersion:'3',releaseDate:'2021-01-11-SECURITY',requestType:'navigation',fullPageURL:n,pageCategory:'',userAgent:t,pageTitle:h,isNavigationSupported:l,isResourceTimingSupported:m,isPaintTimingSupported:q,yOptimizations:r,eventTimestamp:ob,entryMap:F,sequencing:{numScriptsSequenced:b, numImagesSequenced:c,numBlocksSequenced:d,numDelayedObjects:f.delayed.length},commonDimensions:{}};f.rum.pageCategory&&(b.pageCategory=f.rum.pageCategory);E.geo&&(b.geo=E.geo);c=navigator.connection||navigator.mozConnection||navigator.webkitConnection;b.connection={};1==g.def(c)&&(b.connection.effectiveType=c.effectiveType,b.connection.rtt=c.rtt);for(var B in S)b.commonDimensions[B]=S[B];b.commonDimensions.optState||(b.commonDimensions.optState=fa);try{if(window.localStorage&&localStorage.getItem){var x= localStorage.getItem(A('rapid-js-visitor-3'));if(null!=x){x=JSON.parse(x);var C=(new Date).getTime()>x.visitorTimestamp+18E5;b.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:x.numVisitorPageViews+1,numSessionPageViews:C?1:x.numSessionPageViews+1,visitorId:x.visitorId?x.visitorId:p(),numSessions:C?x.numSessions+1:x.numSessions,sessionId:C?p():x.sessionId,bandwidth:''}}else b.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:1,numSessionPageViews:1,numSessions:1, visitorId:p(),sessionId:p(),bandwidth:''};localStorage.setItem(A('rapid-js-visitor-3'),JSON.stringify(b.visitor));var D=localStorage.getItem(A('rapid-js-qoe-5'));null!=D&&(b.qoe=JSON.parse(D))}}catch(pb){k.log('localStorage was not available',pb)}1==b.isNavigationSupported&&!0!==f.rum.spa&&(b.navigationTiming=window.performance.timing.toJSON(),G(b));b.isPaintTimingSupported=!1;b.paintTiming={};b.userTiming={};b.measureTiming={};if(window.performance&&window.performance.getEntriesByType){B=window.performance.getEntriesByType('paint'); if(null!=B&&0<B.length)for(b.isPaintTimingSupported=!0,e=0;e<B.length;e++)b.paintTiming[B[e].name]=B[e].startTime;B=window.performance.getEntriesByType('mark');if(null!=B&&0<B.length)for(e=0;e<B.length;e++)b.userTiming[B[e].name]=B[e].startTime;B=window.performance.getEntriesByType('measure');if(null!=B&&0<B.length)for(e=0;e<B.length;e++)b.measureTiming[B[e].name]=B[e].duration}E.rum=b}function D(a){for(var b=0;b<f.delayed.length;b++){var c=f.delayed[b];if(c.src==a||c.srcAttr==a)return c}return null} function m(a,b,c,d){a={lastByteTime:c.duration,implementationType:'dom',type:a,zone:b,resourceName:c.name,resourceSizeBytes:c.decodedBodySize};c=D(c.name);null!=c&&(a.delayedType=c.orgDelayType,a.delayedValue=c.delayValue);g.def(d)&&(a.stack=d);return a}function da(a){if(0!=k.hasResourceTiming()){try{if(!window.localStorage||!window.localStorage.getItem)return}catch(B){k.log('localStorage was not available');return}var b=E.rum,c=[],d=window.performance.timing,e=0,n=0,t=d.domInteractive-d.navigationStart, h=d.domContentLoadedEventEnd-d.navigationStart,l=d.domComplete-d.navigationStart,q=d.loadEventEnd-d.navigationStart,r=window.performance.getEntries();d=r.length;a:{if(document.querySelector){var p=document.querySelector('img[class*=hero]');if(null!=p){p=p.currentSrc||p.src;break a}}for(var x=document.getElementsByTagName('img'),F=null,w=0,v=document.documentElement.scrollTop||document.body.scrollTop,u=0;u<x.length;u++){p=x[u];var y=p.getBoundingClientRect();if(y.top-v<window.innerHeight)y.width*y.height> w&&(F=p.currentSrc||p.src,w=y.width*y.height);else break}p=F}for(x=0;x<d;x++)v=r[x],F=v.startTime,u=0,'resource'==v.entryType&&(F<=t?(n+=f.rum.advanced.domInteractiveCoef,u=1):F<=h?(n+=f.rum.advanced.domContentLoadedEventCoef,u=2):F<=l?(n+=f.rum.advanced.domCompleteCoef,u=3):F<=q||a&&x<a?(n+=f.rum.advanced.loadEventCoef,u=4):0<v.duration&&(e+=v.duration),w=qa[v.name],0!=u&&v.duration>f.rum.advanced.blockingTime?M.push(m(4,u,v,w)):0==u&&v.duration>f.rum.advanced.performanceTime?M.push(m(0,u,v,w)): v.decodedBodySize>f.rum.advanced.violationSize&&M.push(m(1,u,v,w)),1==v.name.toLowerCase().startsWith('https:')&&1==v.name.toLowerCase().startsWith('http:')&&M.push(m(3,u,v,w)),p==v.name&&(z.setExperienceMetric('hero_image_display',v.startTime+v.duration),z.setExperienceMetric('hero_image',p)),v.toJSON&&(v=v.toJSON(),v.implementationType='dom',g.def(w)&&(v.stack=w),w=D(v.name),null!=w&&(v.delayedType=w.orgDelayType,v.delayedValue=w.delayValue),v.onLoadStartTime=F-q,c.push(v)));1<d&&g._calculateTti(r, d,q);window.performance.getEntriesByName&&!0!==f.rum.spaTransition&&(a=document.getElementsByTagName('script'),ra(a,'src'),a=document.getElementsByTagName('link'),ra(a,'href'),a=document.getElementsByTagName('img'),ra(a,'currentSrc'));a=localStorage.getItem(A('rapid-js-qoe-5'));null==a?a={sessionTimeSaved:e,journeyTime:e}:(a=JSON.parse(a),a={sessionTimeSaved:(new Date).getTime()>a.collectionTimestamp+18E5?e:a.sessionTimeSaved+e,journeyTime:a.journeyTime+e});a.entries=d;a.timeSaved=e;a.score=n;a.pageMeasured= b?b.fullPageURL:window.location.href;a.pageMeasuredCategory=b?b.pageCategory:'';a.violations=M;!0===f.rum.requests&&(a.resourceTiming=c);a.jsErrors=sa;a.pageMeasuredUuid=pa;a.collectionTimestamp=(new Date).getTime();a.commonDimensions={};for(var C in S)a.commonDimensions[C]=S[C];G(a);a.commonDimensions.optState||(a.commonDimensions.optState=fa);try{localStorage.setItem(A('rapid-js-qoe-5'),JSON.stringify(a))}catch(B){g.log('LocalStorage failed to save',B)}}}function G(a){a.experienceMetrics={};for(var b in ha)a.experienceMetrics[b]= ha[b]}function Y(a,b,c,d){if(f.sequenceWrites&&'script'==a.nodeName.toLowerCase()){for(var e in C)if(0<C[e].length&&d.writeLocation!=C[e][0].getWriteSelector())return g.def(d.writeLocation)&&(a.yo_writeSelector=d.writeLocation),C[e][0].addScript(a),!1;e=null;f&&(e=g.select(d.writeLocation));if(null!=e){a.write_context=new H(e,a,d.writeLocation);var n=C[d.writeLocation];g.undef(n)&&(n=C[d.writeLocation]=[]);n.push(a.write_context);ia=function(){var a=Array.prototype.slice.call(arguments,0,-1).join(''); 0<n.length&&n[n.length-1].collectDocumentWrite(a)};a.original_onload=a.onload;a.original_onreadystatechange=a.onreadystatechange;a.onload=a.onreadystatechange=null;var t=!1;a.onerror=a.onload=function(){t||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(g.log('loading ',this,this.write_context.getId()),t=!0,this.original_onload?this.original_onload.call(arguments):l.publish({topic:'sequence/afterloaded/'+a.src,message:a}),this.write_context.finalizeWriteOverride(),this.original_onload= this.write_context=this.onload=this.onreadystatechange=null)};a.onreadystatechange=function(){t||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(g.log('loading ',this,this.write_context.getId()),t=!0,this.original_onload||l.publish({topic:'sequence/afterloaded/'+a.src,message:a}),this.write_context.finalizeWriteOverride(),this.original_onload=this.write_context=this.onload=this.onreadystatechange=null);this.original_onreadystatechange&&this.original_onreadystatechange.call(arguments)}}}return!0} function jb(a,b,c,d){if(f.sequenceWrites&&'function'!==typeof d.writeLocation){for(var e in C)if(0<C[e].length&&d.writeLocation!=C[e][0].getWriteSelector())return g.def(d.writeLocation)&&(d.yo_writeSelector=d.writeLocation),C[e][0].addScript(a),!1;e=null;f&&(e=g.select(d.writeLocation));if(null!=e){d.write_context=new H(e,{src:a},d.writeLocation);var n=C[d.writeLocation];g.undef(n)&&(n=C[d.writeLocation]=[]);n.push(d.write_context);ia=function(){var a=Array.prototype.slice.call(arguments,0,-1).join(''); 0<n.length&&n[n.length-1].collectDocumentWrite(a)}}}return!0}function mb(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);g.writeHTML(a,b)}function kb(){if(0!=f.afterShockLoaded){for(var a=0;a<f.delayed.length;a++)if('none'!=f.delayed[a].delayType)return;null!=f.intervalID&&(clearInterval(f.intervalID),f.intervalID=null,g.log('Turning off response timer all objects are loaded.'))}}function Ja(a){f.sequenceWrites&&g.undef(a.yo_write)&&(a.yo_write=a.write,ia=lb,a.writeln=a.write=function(){var b= Array.prototype.slice.call(arguments).join('');ia(b,a)})}function lb(a,b){for(var c=!1,d=0;d<f.write.length;d++){var e=f.write[d];if(a.match(e.start)||1==e.state){d={document:b};for(var n in e)d[n]=e[n];c=!0;e.string&&0==ta?e.string+=a:(e.state=1,e.string=a);if(g.undef(e.end)||a.match(e.end)){if(g.undef(d.delayType)||'none'==d.delayType){e.config=d;if(g.def(d.onBefore))d.onBefore(e,b);g.undef(d.selector)||null==d.selector?d.selector=b:d.selector=g.select(d.selector);d.selector.yo_write?(ta=!0,-1!= e.string.indexOf('m_js_controller.js')&&(ta=!0),d.selector.yo_write(e.string)):g.writeHTML(d.selector,e.string,d.how);if(g.def(d.onAfter))d.onAfter(e,b)}else g.undef(d.selector)?(d.selector='yo_write_'+Math.floor(1E9*Math.random()),g.undef(d.how)&&(d.how='append'),g.undef(d.delayValue)&&(d.delayValue=d.selector),document.yo_write('<di'+'v id='+d.selector+' style=width:0px;height:0px></di'+'v>'),d.selector=g.select(d.selector).parentNode):d.selector=g.select(d.selector),n=Yo.sequence.resource(''),g.def(d.onBefore)&& n.beforeLoading(d.onBefore),g.def(d.onLoad)&&n.afterLoaded(d.onLoad),n.type='inner',n.how=e.how,n.newNode=a,n.before=d.selector,n.me=d.selector,f.delayed.push(n),domCompleteTriggered&&n.execute();e.state=2;e.string=''}break}}0==c&&b.yo_write(a);g.log('write hander = '+a)}function ea(a){return function(b,c,d){var e=ja[(a?'on':'')+b];if(e)e.triggered?Z(function(){c(e.event)},0):e.listeners.push(c);else return a?this.yo_addEventListener(b,c,d):this.yo_attachEvent(b,c,d)}}function qb(a,b,c){function d(a){g.log('Loading '+ c.before.src+' via event handler '+c.delayValue);c.afterShock();var e=null;g.def(a.currentTarget)?e=a.currentTarget:g.def(a.srcElement)&&(e=a.srcElement);g.removeEvent(e,b[0],d)}g.log('Adding event ',b[0],b[1]);g.addEvent(a,b[0],d)}function Ka(a,b){return a.top>b.top-a.height&&a.bottom<b.bottom+f.offset+2*a.height&&a.left>b.left-a.width&&a.right<b.right+f.offset+2*a.width}function rb(a,b){return La(this,a,b,'insert')}function sb(a){return La(this,a,a,'append')}function La(a,b,c,d){l.publish({topic:'sequence/captured', message:{parentNode:a,newNode:b,before:c,captureType:d}});if(0==Ma(b,a,function(a,g){a=a.clone();a.type=d;a.newNode=b;a.src=b?b.src:'';a.before=c;a.me=g;f.delayed.push(a)}))return T.safeWriteInsert(b,c,a,aa(b),'append'==d);a=f.delayed[f.delayed.length-1];if(domCompleteTriggered||'none'==a.delayType)return a.execute()}function Ma(a,b,c){var d=null,e=null,n=!1;a&&a.nodeName&&(d=a.nodeName.toLowerCase());if('script'==d||'iframe'==d){e=aa(a);c(e,b);n=!0;var f=!1;a.onreadystatechange&&(a.onreadystatechangeOriginal= a.onreadystatechange,a.onreadystatechange=null);a.onreadystatechange=function(){f||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(l.publish({persistent:!0,topic:'sequence/afterloaded/'+e.key,message:e}),f=!0);this.onreadystatechangeOriginal&&this.onreadystatechangeOriginal.apply(this,arguments)};a.onload&&(a.onloadOriginal=a.onload,a.onload=null);a.onload=function(){0==f&&(l.publish({persistent:!0,topic:'sequence/afterloaded/'+e.key,message:e}),f=!0);this.onloadOriginal&& this.onloadOriginal.apply(this,arguments)}}else if(e=aa(b),null==e||'none'!=e.delayType)c(e,b),e.before=b,n=!0;g.log(a.nodeName+' '+a.src+' is'+(n?' ':' NOT ')+'sequenced.');0==n&&l.publish({topic:'sequence/beforeloading/'+e.key,message:e});return n}function aa(a){var b=a.src;1==g.def(a.yo_src)&&(b=a.yo_src);if(null==b||0==b.length){var c=new (_delayed());c.delayType='none';return c}for(c=0;c<f.resources.length;c++){var d=f.resources[c];if(1==d.match&&1==g.matchUrl(d.url,b)&&((g.undef(a.nodeName)|| 'xhr'!==a.nodeName)&&!0!==d.xhr||'xhr'===a.nodeName&&!0===d.xhr))return g.log('Found configuration for '+b+' delayType '+d.delayType),'empty'==d.delayType&&(a.src=null==d.delaySrc?'data:text/javascript;plain,//':d.delaySrc,d.delayType='none'),d}g.log('Did NOT find configuration for '+b+' checking local configuration. ');c=new (_delayed());c.key=c.src=b;if(null!=a.delayType)'empty'==a.delayType&&(a.src=null==a.delaySrc?'data:text/javascript;plain,//':a.delaySrc,a.delayType='none'),c[a.delayType](a.delayValue); else c[f.defaultType](f.defaultDelay);c.before=a;return c}function Na(){for(var a=0;a<f.resources.length;a++){var b=f.resources[a];if(!b.isConfig){var c=new (_delayed());c.key=c.url=b.url;c.match=!0;c.local=!0;c[b.delayType](b.delayValue);f.resources[a]=c}}}var Z=window.setTimeout,Oa=window.setInterval,f={defaultDelay:5E3,defaultType:'none',log:!1,throttle:20,sequenceXHR:!1,sequenceWrites:!1,sendTimingData:!1,timingDataURL:'',offset:100,loadOnDOM:!1,scan:['script','img','source','picture'],resources:[], abTesting:[],write:[],intervalID:null,lazyCheckSize:!0,pre:'data-yo-',srcAttrs:['data-yo-src','data-yo-srcset'],afterShockLoaded:!1,optimizeIE:!0,logPrefix:'Yo.utils.log: ',delayed:[],maxMessageSize:2048E3,scriptAttrs:['async','nomodule','defer'],ttiWatcherInterval:1E3,ttiLagTime:2E3},k={log:function(){if(f.log&&('undefined'!==typeof window&&k.def(window.console)&&k.def(window.console.log)||'undefined'!==typeof h&&k.def(h.console)&&k.def(h.console.log))){var a=Array.prototype.slice.call(arguments); a.unshift(f.logPrefix);console.log.apply(console,a)}},def:function(a){return'undefined'!=typeof a},undef:function(a){return!k.def(a)},isFunction:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},decodeSafeString:function(a){return decodeURIComponent(a)},getCookie:function(a){for(var b=document.cookie.split(';'),c=0;c<b.length;c++){var d=b[c];if(-1!=d.indexOf(a)){for(;' '==d.charAt(0);)d=d.substring(1,d.length);return d.substring(a.length+1,d.length)}}return null},setCookie:function(a,b,c){var d= '';c&&(d=new Date,d=new Date(d.getTime()+1E3*c),d='; expires='+d.toGMTString());document.cookie=a+'='+b+d+'; path=/';return!0},addEvent:function(a,b,c){a.attachEvent?a.attachEvent('on'+b,c):a.addEventListener&&a.addEventListener(b,c,!1)},removeEvent:function(a,b,c){a.detachEvent?a.detachEvent('on'+b,c):a.removeEventListener(b,c,!1)},metaDataValue:function(a,b){var c=document.getElementsByName(a);return null!=c&&1==c.length?1==arguments.length?c[0].getAttribute('content'):c[0].setAttribute('content', b):null},matchUrl:function(a,b){if(null==a||null==b)return!1;k.log('Match src',b,'and url',a);return'string'===typeof a&&-1!=b.indexOf(a)||null!=b.match(a)},sendData:function(a,b){if(1==k.isIE('8'))return k.log('IE 8 detected we will not send data back for this browser currently.'),!1;var c=JSON.stringify(a);navigator.sendBeacon&&c.length<f.maxMessageSize&&3E4>c.length?(x.pubsub.publish({topic:'sequence/beforeloading/'+b,message:a}),navigator.sendBeacon(b,c),x.pubsub.publish({topic:'sequence/afterloaded/'+ b,message:a})):c.length<f.maxMessageSize?(a=new XMLHttpRequest,a.onreadystatechange=function(){4==this.readyState&&k.log('Rum data response received',this.status)},a.open('POST',b,!0),a.setRequestHeader('Content-type','application/json'),a.send(c)):k.log('Message is larger than max message length for qoe calles message size: ',c.length,f.maxMessageSize)}},l={},P={},tb=1,Pa={},ua=[],ub=function(a,b){Z(function(){a.callback.call(a.context,b.message,b.topic)},0)};l.subscribe=function(a){a.id=++tb;k.undef(a.priority)&& (a.priority=0);k.undef(a.priority)&&(a.priority=0);'string'===typeof a.topic&&-1!=a.topic.indexOf('*')&&(a.topic=new RegExp(a.topic.replace(/\*/g,'.*')));if('string'===typeof a.topic){a.topic=a.topic.toLowerCase();1==k.undef(P[a.topic])&&(P[a.topic]=[]);P[a.topic].push(a);P[a.topic].sort(function(a,b){return b.priority-a.priority});var b=Pa[a.topic];k.def(b)&&a.callback.call(b.context,b.message,b.topic)}else ua.push(a);k.log('_pubsub.subscribe',a.topic,a.id);return a.id};l.publish=function(a){a.topic= a.topic.toLowerCase();for(var b=P[a.topic],c=b=1==k.undef(b)?[]:b.slice(0),d=0;d<ua.length;d++){var e=ua[d];null!=a.topic.match(e.topic)&&c.push(e)}a.persistent&&(Pa[a.topic]=a);if(1==k.def(b)){c=[];for(d=0;d<b.length;d++){e=b[d];var g=!0;1==a.async?ub(e,a):(g=e.callback.call(e.context,a.message,a.topic),c.push(g));k.log('_pubsub.publish',e.topic,e.id);if(0==g&&!0===a.cancellable)break}return c}k.log('_pubsub.publish',a.topic,'no callbacks');return 0};l.unsubscribe=function(a){for(var b in P)for(var c= P[b],d=0;d<c.length;d++)if(c[d].id==a)return c.splice(d,1),k.log('_pubsub.unsubscribe','found'),!0;k.log('_pubsub.unsubscribe','not found');return!1};var E={releaseDate:'2021-01-11-SECURITY',errors:{has:!1},config:f},va=function(){return E};l.subscribe({topic:'core/configure',callback:function(a){va.config=f}});l.subscribe({topic:'core/start',callback:function(){va.config=f}});k.addEvent(window,'error',function(a){var b=a.message,c=a.lineno,d=a.filename;3==arguments.length&&(b=arguments[0],d=arguments[1],c=arguments[2]); k.log('errorCapture',b,c,d);var e='';try{e=a&&a.error&&a.error.stack?a.error.stack:Error().stack}catch(n){}l.publish({topic:'core/js/error',persistent:!0,message:{message:b,implementationType:'dom',resourceName:d,lineNumber:c,stack:e,collectionTimestamp:(new Date).getTime()}});E.errors={has:!0}});k.hasWebVitals=function(){return'undefined'!==typeof window.LayoutShift};var wa=function(){var a=0;(new PerformanceObserver(function(b){b=b.getEntries();for(var c=0;c<b.length;c++){var d=b[c];d.hadRecentInput|| (a+=d.value,l.publish({topic:'web-vitals/cumulative-layout-shift',persistent:!0,message:{score:a}}))}})).observe({type:'layout-shift',buffered:!0});(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var d=a[b];l.publish({topic:'web-vitals/first-input',persistent:!0,message:{delay:d.processingEnd-d.startTime,name:d.name,startTime:d.startTime}})}})).observe({type:'first-input'});(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++)l.publish({topic:'web-vitals/largest-contentful-paint', persistent:!0,message:{time:a[b].startTime}})})).observe({type:'largest-contentful-paint',buffered:!0})};try{1==k.hasWebVitals()&&wa()}catch(a){k.log('WebVital initialize error',a.message)}k.hasResourceTiming=function(){return k.def(window.performance)&&k.def(window.performance.getEntries)};k.calculateTti=function(){var a=window.performance.timing;if(0==k.hasResourceTiming()||k.undef(a.loadEventEnd))return-1;var b=window.performance.getEntries();return k._calculateTti(b,b.length,a.loadEventEnd-a.navigationStart)}; k._calculateTti=function(a,b,c){for(var d=[],e=f.ttiLagTime,g=-1,t=a[0],h=t.startTime,l=h+t.duration,k=[h,l+e],m=0;m<b;m++)if(t=a[m],h=t.startTime,l=h+t.duration,'resource'==t.entryType)if(1==(h>=k[0]&&h<=k[1]||l>=k[0]&&l<=k[1]))d.push(t),2<d.length&&(k=[h,l+e],Qa(d,k),2<d.length&&(g=k[1]-e));else if(h>k[1]-e){if(l>c)break;k=[h,l+e];Qa(d,k)}g<c&&(g=c);z.setExperienceMetric('time_to_interactive',g);return g};var Qa=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.startTime;d=e+d.duration;0== (e>=b[0]&&e<=b[1]||d>=b[0]&&d<=b[1])&&(a.splice(c,1),c--)}},z={},sa=[],M=[],fa='unknown',S={optState:fa},pa=p(),qa={},Ra=0,Sa=0,ha={};z.initialize=function(a,b,c,d,e){f.rum={beaconUrl:a,requests:b,key:c,post:!0,advanced:{performanceTime:1500,blockingTime:750,violationSize:1024E3,domInteractiveCoef:200,domContentLoadedEventCoef:150,domCompleteCoef:100,loadEventCoef:50}};k.def(e)&&(e.performanceTime&&(f.rum.advanced.performanceTime=e.performanceTime),e.blockingTime&&(f.rum.advanced.blockingTime=e.blockingTime), e.violationSize&&(f.rum.advanced.violationSize=e.violationSize),e.maxMessageSize&&(f.maxMessageSize=e.maxMessageSize));window.performance&&window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(500)};z.addViolation=function(a,b){M.push({lastByteTime:0,implementationType:'dom',type:a,zone:0,duration:0,startTime:-1,resourceName:b,resourceSizeBytes:0})};var ra=function(a,b){for(var c=0;c<a.length;c++)if('href'!=b||'stylesheet'==a[c].rel){var d=a[c][b];if(null!= d&&''!=d&&(0==d.indexOf('//')&&(d=window.location.protocol+d),1==d.startsWith('http'))){var e=window.performance.getEntriesByName(d);null!=e&&0!=e.length||M.push(m(2,0,{name:d,duration:0,decodedBodySize:0},qa[d]))}}};wa=function(){l.subscribe({topic:'web-vitals/cumulative-layout-shift',callback:function(a){z.setExperienceMetric('cumulative_layout_shift',a.score)}});l.subscribe({topic:'web-vitals/first-input',callback:function(a){z.setExperienceMetric('first_input_delay',a.delay);z.setExperienceMetric('first_input_name', a.name);z.setExperienceMetric('first_input_start_time',a.startTime)}});l.subscribe({topic:'web-vitals/largest-contentful-paint',callback:function(a){z.setExperienceMetric('largest_contentful_paint',a.time)}})};z.captureStack=function(){try{return Error().stack}catch(a){return''}};z.set=function(a,b){S[a]=b};z.spa=function(){f.rum&&(f.rum.spa=!0)};z.get=function(){return S};z.now=function(){return window.performance&&window.performance.now?Math.floor(window.performance.now()):Math.floor((new Date).getTime())}; z.setExperienceMetric=function(a,b){ha[a]=b};z.getExperienceMetric=function(a){return ha[a]};l.subscribe({topic:'core/load',callback:function(){k.def(f.rum)&&k.def(f.rum.beaconUrl)&&(f.rum.onLoadTime=z.now(),!0!==f.rum.spa&&Z(function(){l.publish({topic:'rum/send',message:E.rum})},100),k.addEvent(window,'unload',function(){k.log('unload window event triggered');da()}))}});l.subscribe({topic:'sequence/captured',callback:function(a,b){b='';a.open_args?b=a.open_args[1]:a.newNode&&a.newNode.src?b=a.newNode.src: a.delayed&&a.delayed.newNode&&a.delayed.newNode.src?b=a.delayed.newNode.src:a.src&&(b=a.src);qa[b]=z.captureStack()}});l.subscribe({topic:'core/js/error',callback:function(a,b){sa.push(a)}});l.subscribe({topic:'rum/spa/transition/start',callback:function(a,b){if(0!=Ra){a=z.now();b=E.rum;f.rum.spa=f.rum.spaTransition=!0;if(k.undef(b)||k.undef(b.navigationTiming))k.undef(b)&&(b={}),window.performance&&window.performance.timing&&(b.navigationTiming=window.performance.timing.toJSON());for(var c in b.navigationTiming)b.navigationTiming[c]= a;pa=p();M=[];sa=[];da(Sa);window.performance&&(z.clearResourceTimings.call(window.performance),window.performance.clearMarks&&window.performance.clearMarks(),window.performance.clearMeasures&&window.performance.clearMeasures())}}});l.subscribe({topic:'rum/spa/rendered',callback:function(a,b){b=E.rum;var c=z.now(),d=b?b.navigationTiming:null;q();b=E.rum;1==g.undef(b.navigationTiming)&&(b.navigationTiming=d?d:window.performance&&window.performance.timing?window.performance.timing.toJSON():{});a.pageType&& a.viewType&&(b.pageCategory=a.pageType+'-'+a.viewType);if(!0===f.rum.spaTransition)b.navigationTiming.loadEventEnd=c;else if(f.rum.onLoadTime)b.navigationTiming.loadEventEnd=b.navigationTiming.navigationStart+(b.navigationTiming.loadEventEnd-b.navigationTiming.navigationStart)+(c-f.rum.onLoadTime);else return f.rum.spa=!1;f.rum.spaTransition=!1;1==k.hasResourceTiming()&&(Sa=window.performance.getEntries().length);Ra++;a=l.publish({topic:'rum/beforeSend',async:!1,message:E.rum});0!=a.length&&!1=== a[0]||k.sendData(E.rum,f.rum.beaconUrl);1==g.def(x.sequence)&&(x.configure({scan:['img','source','script']}),x.sequence.displayNow())}});l.subscribe({topic:'rum/send',callback:function(a,b){q();a=l.publish({topic:'rum/beforeSend',async:!1,message:E.rum});0!=a.length&&!1===a[0]||k.sendData(E.rum,f.rum.beaconUrl)}});window.performance&&window.performance.clearResourceTimings&&(z.clearResourceTimings=window.performance.clearResourceTimings,window.performance.clearResourceTimings=function(){});wa();var U= document,vb=window;_loadCookieConfig=function(){var a=k.getCookie('yo-aftershock-config');if(null!=a&&0<a.length)try{a=eval(a),Yo.configure(a)}catch(b){}};_domready=function(){function a(a){b(a)}function b(a){('poll'===a||'readystatechange'===a.type)&&'complete'!==U.readyState||d||(d=!0,f.afterShockLoaded=!0,l.publish({topic:'core/load',async:!0,message:x,persistent:!0}))}function c(){try{U.documentElement.doScroll('left')}catch(n){Z(c,50);return}b('poll')}var d=!1,e=!0;if('complete'===U.readyState)f.afterShockLoaded= !0,l.publish({topic:'core/load',async:!0,message:Yo,persistent:!0});else{if(U.createEventObject&&U.documentElement.doScroll){try{e=!vb.frameElement}catch(n){}e&&c()}1==f.loadOnDOM&&(k.addEvent(document,'DOMContentLoaded',b),k.addEvent(document,'readystatechange',b));k.addEvent(window,'load',a)}};l.subscribe({topic:'core/start',callback:function(){_loadCookieConfig();_domready()}});var g=k;String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a}); String.prototype.endsWith||(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)});g.rewrite=function(a){var b=g.metaDataValue('resource.version'),c=g.metaDataValue('cdn.hostname'),d=g.metaDataValue('profile.id');return location.protocol+c+'/'+d+'/'+location.hostname+'/'+b+(0!=a.indexOf('/')?'/':'')+a};g.rewriteImageAPI=function(a){var b=g.metaDataValue('resource.version'),c=g.metaDataValue('cdn.hostname'),d=g.metaDataValue('profile.id'),e='o~',f=g.browser();f&&'chrome'=== f.name?e+='f_webp':f&&'safari'===f.name&&13<=f.version&&(e+='f_jp2');1==a.startsWith('/')&&0==a.startsWith('//')&&(a=window.location.protocol+'//'+window.location.hostname+a);return location.protocol+c+'/'+d+'/'+e+'/'+b+'/'+a};g.rewriteSrcSet=function(a,b){a=a.split(',');for(var c='',d=0;d<a.length;d++){var e=a[d].trim(),g=e.lastIndexOf(' '),f='';-1!=g&&(f=' '+e.substring(g).trim(),e=e.substring(0,g).trim());e=b(e,f);c+=e+f;d<a.length-1&&(c+=', ')}return c};g.select=function(a){var b;if(null==a|| 1==a.length)return null;if('document'==a)return document;if('window'==a)return window;if(g.def(a.nodeName))return a;if('.'==a[0])return a=document.getElementsByClassName(a.substring(1)),0<a.length?a[0]:null;if(-1!=(b=a.indexOf('['))){var c=a.substring(0,b),d=a.substring(b+1),e=d.indexOf(']'),f=d.indexOf('[');d=d.substring(0,e);var t,h=[],l=null;if(-1!=(t=d.indexOf('~')))e=2;else if(-1!=(t=d.indexOf('*')))e=1;else if(-1!=(t=d.indexOf('=')))e=0;else return null;if(-1!=f){f=a.substring(b+1+f+1);b=f.indexOf(']'); try{f=parseInt(f.substring(0,b))}catch(Jb){}}var k=d.substring(0,t);t=d.substring(t+1);2==e&&(l=new RegExp(t));c=document.getElementsByTagName(c);for(b=0;b<c.length;b++){var m=0<k.length?c[b].getAttribute(k):c[b].innerHTML;0==e&&m==t?h.push(c[b]):1==e&&null!=m&&-1!=m.indexOf(t)?h.push(c[b]):2==e&&null!=m&&-1!=m.search(l)&&h.push(c[b])}g.log(a,d,k,t,0==h.length?h.length:h[0]);return-1!=f?f<h.length?h[f]:null:h[0]}'#'==a[0]&&(a=a.substring(1));return document.getElementById(a)};g.writeHTML=function(a, b,c){var d=document.createElement('div');d.innerHTML='string'===typeof b?b:b.innerHTML;for(b=d.childNodes;0<b.length;)if('script'==b[0].nodeName.toLowerCase())if(b[0].src)Yo.sequence.script(d.removeChild(b[0]).src).load();else try{eval(d.removeChild(b[0]).innerHTML)}catch(e){g.log(e)}else'insert'==c?a.parentNode.insertBefore(d.removeChild(b[0]),a):a.appendChild(d.removeChild(b[0]))};g.contains=document.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}: document.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!1)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};g.updateHeadItemAttributes=function(a,b,c){0>a&&(document.cookie='yo-disable-instanton=true;Max-Age=2',window.location.reload(!0));a=document.documentElement.getElementsByTagName('head')[0].children[a];for(var d=0;d<b.length;d++)a.removeAttribute(b[d]);for(var e in c)a.setAttribute(e,c[e])};g.replaceHeadItemContent=function(a,b){0>a&&(document.cookie= 'yo-disable-instanton=true;Max-Age=2',window.location.reload(!0));document.documentElement.getElementsByTagName('head')[0].children[a].textContent=b};g.isIE=function(a){var b=navigator.userAgent;return b&&a&&11==parseInt(a)&&-1!=b.indexOf('rv:11')?!0:b&&a&&-1!=b.indexOf('MSIE '+a)?!0:b&&(-1!=b.indexOf('MSIE')||-1!=b.indexOf('rv:11'))};g.browser=function(){var a=navigator.userAgent,b=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(b[1])){var c=/\brv[ :]+(\d+)/g.exec(a)|| [];return{name:'IE',version:c[1]||''}}if('Chrome'===b[1]&&(c=a.match(/\bOPR|Edge\/(\d+)/),null!=c))return{name:'Opera',version:c[1]};b=b[2]?[b[1],b[2]]:[navigator.appName,navigator.appVersion,'-?'];null!=(c=a.match(/version\/(\d+)/i))&&b.splice(1,1,c[1]);return{name:b[0].toLowerCase(),version:parseInt(b[1])}};g.inArray=function(a,b,c){if(b){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(b,a,c);var d=b.length;for(c=c?0>c?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1}; var xa=function(a){l.subscribe({topic:'sequence/beforeloading/'+this.key,callback:a,context:this});return this},ya=function(a){l.subscribe({topic:'sequence/afterloaded/'+this.key,callback:a,context:this});return this},T={},C={},H=function(a,b,c){this.writeContent='';this.writeLocation=a;this.writeSelector=c;this.offScreenDom=null;this.node=b;this.scripts=[];this.id='yo_write_'+Math.floor(1E9*Math.random());g.log('creating WriteContext',this.id,this.node.src);H.prototype.getId=function(a){return this.id}; H.prototype.collectDocumentWrite=function(a){this.writeContent+=a;g.log('write override',this.getId(),this.node.src,a)};H.prototype.addScript=function(a){this.scripts.push(a)};H.prototype.getWriteSelector=function(a){return this.writeSelector};H.prototype.executeDeferredScripts=function(){for(var a=0;a<this.scripts.length;a++){var b=this.scripts[a].getAttribute('src');g.def(this.scripts[a].yo_src)&&(b=this.scripts[a].yo_src);Yo.sequence.script(b).none().writeLocation(this.scripts[a].yo_writeSelector).load()}}; H.prototype.finalizeWriteOverride=function(){null==this.writeLocation?g.log('write location is null, content ignored',this.getId(),this.node.src):0<this.writeContent.length?(g.log('creating off screen DOM',this.getId(),this.node.src),this.offScreenDom=U.createElement('div'),this.offScreenDom.innerHTML=this.writeContent):g.log('no content, just continue',this.getId(),this.node.src);this.continueWrite()};H.prototype.insertContent=function(){for(;0<this.offScreenDom.childNodes.length;){var a=this.offScreenDom.childNodes[0], b=a.nodeName.toLowerCase();if('script'==b){b=a.getAttribute('language');if(null==b||'vbscript'!=b.toLowerCase()){C[this.writeSelector].push(this);try{this.offScreenDom.removeChild(a)}catch(n){}Yo.sequence.script(a.getAttribute('src')).none().writeLocation(this.writeSelector).load();return!1}try{eval(a.innerHTML),this.offScreenDom.removeChild(a)}catch(n){}this.writeLocation.parentNode.insertBefore(a,this.writeLocation)}else if('link'==b&&'stylesheet'==a.getAttribute('rel').toLowerCase()){document.getElementsByTagName('head')[0].appendChild(a); try{this.offScreenDom.removeChild(a)}catch(n){}}else this.writeLocation.parentNode.insertBefore(a,this.writeLocation)}this.offScreenDom.innerHTML='';return!0};H.prototype.continueWrite=function(){for(var a=C[this.writeSelector],b=a.pop();b;){g.log('Continue writing ',b.getId());if(b.offScreenDom&&0==b.insertContent())break;0==a.length&&b.executeDeferredScripts();b=a.pop()}}};T.safeWriteInsert=function(a,b,c,d,e){if(1==Y(a,b,c,d)){a:{try{1==g.def(a.yo_src)&&(1==g.isIE()?a.setAttribute('src',a.yo_src): a.src=a.yo_src);var f=1==e||c.contains&&0==c.contains(b)?c.yo_ac(a):c.yo_ib(a,b);break a}catch(t){g.log('ERROR adding node into dom',a,t)}f=void 0}return f}};T.safeWriteEval=function(a,b,c,d,e){if(1==jb(a,b,c,d))try{a=a.replace('<scri'+'ipt>','').replace('\x3c/scri'+'ipt>',''),'gpt'==e&&(a='googletag.cmd.push(function() { googletag.pubads().enableSyncRendering = function(){}; '+a+'});'),window.eval(a),f.sequenceWrites&&d.write_context.finalizeWriteOverride()}catch(n){g.log('Error eval',n)}};f.delayed=[]; f.targets=[];var I=function(){this.executed=!1;this.cont=!0};I.prototype.afterLoaded=ya;I.prototype.beforeLoading=xa;I.prototype.execute=function(){return this.afterShock()};I.prototype.clone=function(){var a=new I,b;for(b in this)a[b]=this[b];return a};I.prototype.preventDefault=function(){this.cont=!1};I.prototype.key=null;I.prototype.isConfig=function(a){return this.delayType==a};I.prototype.afterShock=function(){var a=null;if(1!=this.loaded&&(this.delayType='none',this.loaded=!0,g.log('Injecting ', this.newNode,', by ',this.type,' into the DOM now.'),'attributesrc'!=this.type&&l.publish({topic:'sequence/beforeloading/'+this.key,message:this}),0!=this.cont)){var b=this.newNode,c=this.type,d=this.before;if('insert'==c)a=T.safeWriteInsert(b,d,this.me,this,!1);else if('append'==c)a=T.safeWriteInsert(b,null,this.me,this,!0);else if('replace'==c)this.me.replaceChild(b,d),l.publish({topic:'sequence/afterloaded/'+this.key,message:this});else if('attributesrc'==c)d.setAttribute('src',b.yo_src);else if('src'== c)g.def(this.animator)&&null!=this.animator?animator(d,this.animator):g.def(f.animator)&&animator(d,f.animator),b=d.getAttribute(f.pre+'srcset'),null!=b&&d.setAttribute('srcset',b),d.src=this.srcAttr;else if('style'==c)b.setAttribute('style',b.getAttribute(f.pre+'style'));else if('inner'==c)g.log(this.how+' -> '+b),'replace'==this.how?mb(d,b):'eval'==this.how||'gpt'==this.how?a=T.safeWriteEval(b,d,this.me,this,this.how):g.writeHTML(d,b,this.how),l.publish({persistent:!0,topic:'sequence/afterloaded/'+ this.key,message:this});else if('function'==c)g.log(this.how+' -> '+b),d=this.key.apply(this.funcThis,this.funcParameters),l.publish({topic:'sequence/afterloaded/'+this.key,message:{delayed:this,retVal:d}});else if('xhr'==c){this.xhr.onreadystatechange&&(this.xhr.original_oonreadystatechange=this.xhr.onreadystatechange);var e=this;this.xhr.onreadystatechange=function(a){4==e.xhr.readyState&&l.publish({topic:'sequence/afterloaded/'+e.key,message:[a,this]});e.xhr.original_oonreadystatechange&&e.xhr.original_oonreadystatechange.apply(this)}; this.xhr.xhr_send.apply(this.xhr,this.xhr._yo.send_args)}else'image'==c&&this.loadImage(this);kb();return a}};_delayed=function(){return I};var ba=function(a){var b=new (_delayed());'string'===typeof a&&0==a.indexOf('/')&&a.lastIndexOf('/')==a.length-1&&(a=new RegExp(a));b.key=b.url=a;b.match=!0;g.undef(f.resources)&&(f.resources=[]);for(var c=-1,d=0;d<f.resources.length;d++){var e=f.resources[d].url;if('string'===typeof a&&'string'===typeof e&&-1!=a.indexOf(e)||'string'!==typeof e&&'string'===typeof a&& null!=a.match(e)){c=d;break}}b.writeLocation=function(a){this.writeLocation=a;return this};-1==c?f.resources.push(b):f.resources.splice(c,0,b);return b},ia=null,ta=!1;l.subscribe({topic:'core/configure',callback:function(){Ja(document)}});var N={},wb=function(a,b,c,d,e){this._yo={open_args:arguments,async:!1===c?!1:!0};g.log('xhr open = '+b+', async '+c);l.publish({topic:'sequence/captured',message:this._yo});return this.xhr_open.apply(this,arguments)},xb=function(a){if(g.undef(this._yo)||!0!==this._yo.async)return this.xhr_send.apply(this, arguments);var b=this,c={src:this._yo.open_args[1],nodeName:'xhr'};if(0==Ma(c,c,function(a,c){a=a.clone();a.type='xhr';a.xhr=b;a.src=c.src;a.newNode=c;f.delayed.push(a);1==f.afterShockLoaded&&a.execute()}))return g.log('xhr send is NOT defered, '+c.src),this.xhr_send.apply(this,arguments);this._yo.send_args=arguments;g.log('xhr send is defered, '+c.src+', '+f.delayed[f.delayed.length-1].delayType);return this},yb=function(){if(g.undef(this._yo)||g.undef(this._yo.send_args)||!0!==this._yo.async)return this.xhr_abort.apply(this, arguments);g.log('Abort to the xhr object is called',' async true')};N.create=function(a){a=ba(a);a.xhr=!0;a.rewrite=function(a){this.afterLoaded(function(b){g.log('Begging to rewrite data for ajax call.');try{if(!(2>b.length)){var c=b[1],e=c.responseText;e=a.call(this,e);Object.defineProperty&&(Object.defineProperty(c,'responseText',{get:function(){return e}}),Object.defineProperty(c,'response',{get:function(){return e}}))}}catch(n){g.log('Error in rewrite handling',n)}})};return a};N.captureMethods= function(a){1==g.undef(a.XMLHttpRequest.prototype.xhr_open)&&(a.XMLHttpRequest.prototype.xhr_open=a.XMLHttpRequest.prototype.open,a.XMLHttpRequest.prototype.xhr_send=a.XMLHttpRequest.prototype.send,a.XMLHttpRequest.prototype.xhr_abort=a.XMLHttpRequest.prototype.abort)};N.overrideMethods=function(a){a.XMLHttpRequest.prototype.open=wb;a.XMLHttpRequest.prototype.send=xb;a.XMLHttpRequest.prototype.abort=yb};N.captureMethods(window);l.subscribe({topic:'core/configure',callback:function(){1==f.sequenceXHR&& 1==g.def(XMLHttpRequest)&&N.overrideMethods(window)}});_findTags=function(a,b){var c=document.getElementsByTagName(a);g.log('Find all '+a+' tags in the document.');for(var d=0,e=c.length;d<e;d+=1){var n=c[d];if(!0===b){var t=n.getAttribute(f.pre+'delayType');null==t||'defer'!=t&&'lazy'!=t||(n.setAttribute(f.pre+'delayType','none'),n.setAttribute(f.pre+'delayValue',''));t=n.getAttribute('type');null!=t&&(-1<t.indexOf('yo/sequence/defer')||-1<t.indexOf('yo/sequence/lazy'))&&n.setAttribute('type','yo/sequence/none/')}if('true'!== n.getAttribute(f.pre+'loaded')){t=_srcAttr(n);var h=n.getAttribute(f.pre+'style');t?(g.log('Found src ',a,', src = '+t+' tag to handle with AfterShocK.'),Yo.sequence.content(n).load()):'script'==a?(t=n.getAttribute('type'),n.getAttribute(f.pre+'src'),t&&-1<t.indexOf('yo/sequence')?(g.log('Found a '+a+', yo/sequence tag to handle with AfterShocK.'),Yo.sequence.content(n).load()):'yo/abtest'==t&&_abTestScript(n)):h&&(g.log('Found style ',a,', src = '+t+' tag to handle with AfterShocK.'),n=Yo.sequence.content(n), n.type='style',n.before=n.newNode,n.load())}}};_srcAttr=function(a){for(var b=0;b<f.srcAttrs.length;b++){var c=a.getAttribute(f.srcAttrs[b]);if(null!=c)return c}return(c=a.getAttribute('src'))&&'data:image/cloaked;plain,'==c.slice(0,25)?c.substring(25):null};_loadFromDOM=function(a){a='string'===typeof a?g.select(a):a;var b=content=g.select(a.getAttribute(f.pre+'location')),c=a.getAttribute(f.pre+'how'),d=new (_delayed()),e=a.nodeName.toLowerCase(),n=a;'eval'==c||'gpt'==c?(content=a.innerHTML,d=Yo.sequence.script(content)): null==c&&(c='replace');var t=a.getAttribute(f.pre+'key');null!=t&&(d.key=t);var h=a.getAttribute(f.pre+'delayType'),l=a.getAttribute(f.pre+'delayValue');a.getAttribute('src');var k=_srcAttr(a),m=k&&0<k.length?'src':'inner',q=a.getAttribute(f.pre+'animator'),p=a.getAttribute(f.pre+'onbefore');null!=p&&g.isFunction(window[p])&&d.beforeLoading(window[p]);var r=a.getAttribute(f.pre+'onLoad');null!=r&&g.isFunction(window[r])&&d.afterLoaded(window[r]);null==content&&(content=a,c='insert');a.setAttribute(f.pre+ 'loaded','true');if(-1===g.inArray(a,f.targets)){d.animator=q;if('img'==e||'source'==e||'picture'==e)null==h&&(h='lazy'),null==b&&(b=a);else if('script'==e){e=a.getAttribute('type');null!=e&&(e=e.split('/'),2<e.length&&(h=e[2],l=e[3]));e=a.getAttribute(f.pre+'writeLocation');d.writeLocation=null!=e?e:a;e=a.getAttribute(f.pre+'src');if(null!=e){null==h&&(h='none');b={};for(c=0;c<f.scriptAttrs.length;c++)d=f.scriptAttrs[c],b[d]=a.getAttribute(d);d=Yo.sequence.script(e,b)[h](l);null!=t&&(d.key=t);null!= p&&g.isFunction(window[p])&&d.beforeLoading(window[p]);null!=r&&g.isFunction(window[r])&&d.afterLoaded(window[r]);d.src=e;d.me=a;d.load();return d}null==b&&(b=a)}null==h&&(h='none');1==g.contains(document.documentElement,a)&&a.setAttribute(f.pre+'loaded','true');d[h](l);d.before=b;d.me=n;d.type=m;d.srcAttr=k;d.how=c;d.match=!1;d.newNode='eval'==c||'gpt'==c?content:a;d.key||(d.key=d.srcAttr);return d}};l.subscribe({topic:'core/load',callback:function(){Yo.sequence.scanTags(!1)}});var Ta={},ja={},ka= function(a,b,c){g.def(ja[b])||(ja['on'+b]={object:a,name:b,triggered:!1,event:null,listeners:[]},g.addEvent(a,b,function(a){var c=ja['on'+b],d=c.listeners;c.event=a;navigator.userAgent.match(/MSIE /)&&(c.event={type:a.type});for(var f=0;f<d.length;f++)d[f].call(c.object,a);c.triggered=!0}),!a.yo_addEventListener&&a.addEventListener&&c&&(a.yo_addEventListener=a.addEventListener,a.addEventListener=ea(!0)),!a.yo_attachEvent&&a.attachEvent&&c&&(a.yo_attachEvent=a.attachEvent,a.attachEvent=ea(!1)))};Ta.loadEvents= function(){ka(window,'load',!0);ka(document,'readystatechange',!1);ka(document,'DOMContentLoaded',!1);ka(document,'DOMFrameContentLoaded',!0)};var la=null,Ua=function(a){a.tempImage=new la;var b=a.image.onload;a.image.onload=null;a.tempImage.onload=function(c){b&&b.call(a.image,c);l.publish({topic:'sequence/afterloaded/'+a.key,message:arguments})};var c=a.image.onerror;a.image.onerror=null;a.tempImage.onerror=function(b){c&&c.call(a.image,b);l.publish({topic:'sequence/afterloaded/'+a.key,message:arguments})}; l.publish({topic:'sequence/beforeloading/'+a.key,message:arguments});a.tempImage.src=a.src;a.image.setAttribute('src',a.src)},zb=function(){null==la&&(la=Image,Image=function(){var a=new la;try{Object.defineProperty(a,'src',{set:function(b){this.yo_src=b;Yo.utils.log('Overloaded image src being set',b);b={src:b,key:b.toLowerCase()};l.publish({topic:'sequence/captured',message:b});var c={src:b.src,key:b.key,nodeName:'image'};nodeConfig=aa(c);var d=nodeConfig.clone();d.type='image';d.src=c.src;d.image= this;d.newNode=c;f.delayed.push(d);d.loadImage=Ua;1==f.afterShockLoaded&&d.execute();b.image=a;'none'==nodeConfig.delayType&&Ua(b)},get:function(){return this.yo_src?this.yo_src:''}})}catch(b){g.log(b)}return a})};l.subscribe({topic:'core/configure',callback:function(){1==f.sequenceImage&&zb()}});l.subscribe({topic:'core/load',callback:function(){}});_delayed().prototype.defer=function(a){this.orgDelayType=this.delayType='defer';this.delayValue=a;if(1==g.isIE()&&0==f.optimizeIE)return g.log('Override defer on IE', this.url),this.none();this.execute=function(){if(0!=f.afterShockLoaded&&1!=this.executed){this.executed=!0;g.log('Loading ',this.newNode,' via timer event. It will load in ',this.delayValue);var a=this;Z(function(){a.afterShock()},1*this.delayValue);return this}};return this};_delayed().prototype.event=function(a){this.orgDelayType=this.delayType='event';this.delayValue=a;this.execute=function(){if(0!=f.afterShockLoaded&&1!=this.executed){this.executed=!0;g.log('Event handling '+this.before.src+' '+ this.delayValue);var a=this.delayValue.split(' '),c=a[0].toLowerCase(),d=this;if('beforeloading'==c||'afterloaded'==c){a=a[1];if('#adjacent'==a)return this.defer(0);l.subscribe({topic:'sequence/'+c+'/'+a,context:this,callback:function(a){g.log('Loading '+(this.before?this.before.src:'no object')+' via event handler '+this.delayValue);d.afterShock()}})}else'pubsub'==c?(a=a[1],l.subscribe({topic:a,context:this,callback:function(a){g.log('Loading '+(this.before?this.before.src:'no object')+' via pubsub handler '+ this.delayValue);d.afterShock()}})):qb(g.select(a[1]),a,this);return this}};return this};l.subscribe({topic:'core/load',callback:function(){}});var Q={},O={top:0-f.offset,left:0-f.offset,height:0,width:0,right:0,bottom:0},Va=function(a){a=a.getBoundingClientRect();g.undef(a.width)&&(a={top:a.top,left:a.left,right:a.right,bottom:a.bottom,width:a.right-a.left,height:a.bottom-a.top});return a},Wa,Xa;document.defaultView&&document.defaultView.getComputedStyle&&(Wa=function(a,b){var c;if(c=a.ownerDocument.defaultView){if(c= c.getComputedStyle(a,null)){var d=c.getPropertyValue(b);''!==d||g.contains(a.ownerDocument.documentElement,a)||(d=a.style[b])}return d}});document.documentElement.currentStyle&&(Xa=function(a,b){a=a.currentStyle&&a.currentStyle[b];return''===a?'auto':a});var za=Wa||Xa;document.getElementsByClassName||(document.getElementsByClassName=function(a){return this.querySelectorAll('.'+a)});Q.scrollHandler=function(a){O.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight; O.bottom=O.height;O.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;O.right=O.width;if(g.undef(document.documentElement.getBoundingClientRect))return!0;for(var b=a=0;b<f.delayed.length;b++)if(f.delayed[b].isConfig('lazy')){var c=b,d=f.delayed[c],e=d.delayValue;if('string'===typeof e)e=g.select(e);else if(null==e||g.def(e))e=d.before;if(null!=e&&1==g.contains(document.documentElement,e)){var n=Va(e);if(0==(null!=f.intervalID&&g.def(e.getBoundingClientRect))&& n.top<O.height+f.offset)g.log('showIfVisible is visible ',c,', ',e),f.delayed[c].afterShock();else{if(d=1==(null!=f.intervalID&&g.def(e.getBoundingClientRect)))if(d=(!f.lazyCheckSize||0<n.width&&0<n.height)&&1==Ka(n,O)){b:{d=e;for(var h=d.parentNode;null!=h&&1==h.nodeType;){var l=za(h,'overflow');if(l&&'hidden'==l.toLowerCase())d.yo_clipped=h;else if(0==za(h,'opacity')||'none'==za(h,'display')){d=!1;break b}h=h.parentNode}1==g.undef(d.yo_clipped)&&(d.yo_clipped=!1);d=0!=d.yo_clipped?Ka(n,Va(d.yo_clipped)): !0}d=1==d}d&&(g.log('showIfVisible is visible ',c,', ',e),f.delayed[c].afterShock())}}a++}};Q.delayed=function(a){this.orgDelayType=this.delayType='lazy';this.delayValue=a;this.execute=function(a){return this};return this};var Ya=function(a,b){var c=0;return function(){var d=+new Date;d-c<b||(c=d,a.apply(this,arguments))}}(Q.scrollHandler,20);g.addEvent(window,'scroll',Ya);g.addEvent(window,'resize',Ya);l.subscribe({topic:'core/load',callback:function(){Q.scrollHandler()}});_delayed().prototype.lazy= Q.delayed;l.subscribe({topic:'core/configure',callback:function(a){0<a.lazyTimer&&null==f.intervalID&&(f.intervalID=Oa(Q.scrollHandler,a.lazyTimer))}});_delayed().prototype.none=function(){this.orgDelayType=this.delayType='none';this.execute=function(){return this.afterShock()};return this};_delayed().prototype.remove=function(a,b,c){var d=!1,e='yostore'+g.metaDataValue('resource.version')+this.key;g.undef(a)||'always'==a?d=!0:'session'==a?sessionStorage&&'true'==sessionStorage.getItem(e)?d=!0:sessionStorage&& sessionStorage.setItem(e,'true'):'visitor'==a&&(localStorage&&'true'==localStorage.getItem(e)?d=!0:localStorage&&localStorage.setItem(e,'true'));if(1==d)this.orgDelayType=this.delayType='remove',this.execute=function(){return this};else this[b](c);return this};var Aa=null,Ab=function(a,b){var c=g.select(b);Aa=new MutationObserver(function(c){for(var d=!1,f=0;f<c.length;f++){var h=c[f];if('attributes'==h.type&&'observe.attributes'==a.delayType||'observe.all'==a.delayType)if(g.log('The '+h.attributeName+ ' attribute was modified for ',b),'all'==a.delayValue){d=!0;break}else{if(h.attributeName==a.delayValue){d=!0;break}}else if('childList'==h.type&&'observe.children'==a.delayType||'observe.all'==a.delayType)if(g.log('A child node has been added or removed for',b),'all'==a.delayValue){d=!0;break}else if(0<h.addedNodes.length&&'added'==a.delayValue){d=!0;break}else if(0<h.removedNodes.length&&'removed'==a.delayValue){d=!0;break}}1==d&&(a.afterShock(),Aa.disconnect())});Aa.observe(c,{attributes:!0,childList:!0})}; _delayed().prototype.observe=function(a,b,c){this.orgDelayType=this.delayType='observe.'+b;this.delayValue=c?c:'all';if('undefined'===typeof MutationObserver)return g.log('Override defer on IE',this.url),this.none();this.execute=function(){if(0!=f.afterShockLoaded&&1!=this.executed)return this.executed=!0,g.log('Loading ',this.newNode,' via observer. It will loaded when ',a,'changes',b),Ab(this,a),this};return this};_delayed().prototype.firstInput=function(a){return this.webvitals('first-input',a)}; _delayed().prototype.largestContentfulPaint=function(a){return this.webvitals('largest-contentful-paint',a)};_delayed().prototype.timeToInteractive=function(a){return this.webvitals('time-to-interactive',a)};var Bb=function(){var a=g.calculateTti();0<a&&(clearInterval(f.ttiWatcherIntervalID),l.publish({topic:'web-vitals/time-to-interactive',persistent:!0,message:{time:a}}))};_delayed().prototype.webvitals=function(a,b){this.execute=function(){var c=this;'time-to-interactive'==this.orgDelayType&&(0< f.ttiWatcherInterval&&null==f.ttiWatcherIntervalID&&(f.ttiWatcherIntervalID=Oa(Bb,f.ttiWatcherInterval)),c.defer(b?b:1E3));this.executed=!0;this.orgDelayType=this.delayType=a;this.delayValue=a+'-'+b;l.subscribe({topic:'web-vitals/'+this.orgDelayType,callback:function(a,b){c.afterShock()}});0==g.hasWebVitals()&&(g.log('webvitals fallback for ',this.url),c.defer(b?b:1E3))};return this};_delayed().prototype.spa=function(a){return this[a]()};_delayed().prototype.startTransition=function(a){this.orgDelayType= this.delayType='startTransition';this.delayValue=a;this.execute=function(){var a=this;this.executed=!0;l.subscribe({topic:'rum/spa/transition/start',callback:function(b,d){(g.undef(a.delayValue)||0<=(b.pageType+'-'+b.viewType).indexOf(a.delayValue))&&a.afterShock()}});return this};return this};_delayed().prototype.finishedRendering=function(a){this.orgDelayType=this.delayType='finishedRendering';this.delayValue=a;this.execute=function(){var a=this;this.executed=!0;l.subscribe({topic:'rum/spa/rendered', callback:function(b,d){(g.undef(a.delayValue)||0<=(b.pageType+'-'+b.viewType).indexOf(a.delayValue))&&a.afterShock()}});return this};return this};var y={};domCompleteTriggered=!1;y.node=function(a){if(a=g.select(a))a.yo_ac=g.def(a.yo_ac)?a.yo_ac:a.appendChild,a.yo_ib=g.def(a.yo_ib)?a.yo_ib:a.insertBefore,a.appendChild=sb,a.insertBefore=rb};y.clearNode=function(a){g.def(a.yo_ib)&&(a.insertBefore=a.yo_ib);g.def(a.yo_ac)&&(a.appendChild=a.yo_ac)};y.addScanner=function(a){f.scan||(f.scan=[]);-1===g.inArray(a, f.scan)&&f.scan.push(a)};y.displayNow=function(a){!0===a&&'active'==Yo.rum.get().optState&&(a=!1);g.log('Handle the display of all visible tags up to now.');y.scanTags(!0,a);Q.scrollHandler({})};y.createTimer=function(a,b){Yo.configure({lazyTimer:a});b&&Yo.configure({lazyCheckSize:b})};y.createElement=function(a){a.yo_createElement||(a.yo_createElement=a.createElement,a.createElement=function(b){var c=a.yo_createElement(b),d=b.toLowerCase();g.log('_sequencing.createElement',c,b);if(('iframe'==d|| 'script'==d)&&1==g.undef(c.yo_src_override)){c.yo_src_override=!0;try{Object.defineProperty(c,'src',{set:function(a){if(this.yo_src=a)if(g.log('Object.src',a),nodeConfig=aa(this),null!=nodeConfig&&'none'!=nodeConfig.delayType){if(a=nodeConfig.clone(),a.type='attributesrc',a.newNode=this,a.before=this,a.me=this,f.delayed.push(a),domCompleteTriggered)return a.execute()}else this.setAttribute('src',a)},get:function(){return this.yo_src?this.yo_src:''}})}catch(e){g.log(e)}}return c})};y.resource=ba;y.script= function(a,b){var c=ba(a);c.src=a;c.newNode=a;1==g.undef(b)&&(b={});c.before={src:a,attributes:b};c.load=function(a){var c=document.createElement('script');c.type='text/javascript';b.async=!0;for(var d in b)null!=b[d]&&c.setAttribute(d,b[d]);c.yo_src=this.url;(a||document.getElementsByTagName('script')[0].parentNode).appendChild(c);return this};c.eval=function(){f.delayed.push(this);this.how='eval';this.type='inner';this.execute();return this};c.apply=function(a,b){f.delayed.push(this);this.how='apply'; this.type='function';this.funcThis=a;this.funcParameters=b;this.execute();return this};c.writeLocation=function(a){this.writeLocation=a;return this};return c};y.xhr=N.create;y.content=function(a){var b=_loadFromDOM(a);l.publish({topic:'sequence/captured',message:{delayed:b,location:a}});b.load=function(){g.log('Sequence a script = '+a.id+', type '+this.type);null==this.delayType||'none'==this.delayType?g.log('Content found that needs to be loaded immediately'):g.log('Content found that needs to be sequenced', this.delayType,this.delayValue);this.execute(f.delayed.length-1);f.delayed.push(this)};return b};y.event=Ta;y.image=function(a){return ba(a)};y.scanTags=function(a,b){if(f.scan){for(var c=0,d=f.scan.length;c<d;c++)_findTags(f.scan[c],b);!0!==a&&(f.scan=[])}};y.cloakImages=function(a,b){if(1!=g.undef(window.btoa))for(var c=0,d=a.length;c<d;c+=1){var e=a[c],f=document.getElementsByTagName(e);g.log('Cloak '+e);for(var h=0,l=f.length;h<l;h+=1)for(var k=f[h],m=0,q=b.length;m<q;m+=1){var p=b[m],r=k.getAttribute(p); null!=r&&(g.log('Cloak '+e,p,r),k.setAttribute(p,'data:image/cloaked;base64,'+btoa(r)))}}};y.document=Ja;y.captureMethods=N.captureMethods;y.overrideMethods=N.overrideMethods;var Za=document.getElementsByTagName('script');0<Za.length&&y.node(Za[0].parentNode);y.node(document.getElementsByTagName('head')[0]);1==g.isIE()&&1==f.optimizeIE&&y.createElement(document);l.subscribe({topic:'core/start',callback:function(){Na()}});l.subscribe({topic:'core/configure',callback:function(){Na()}});l.subscribe({topic:'core/load', callback:function(){domCompleteTriggered=!0;for(var a=0;a<f.delayed.length;a++)f.delayed[a].execute()}});var J={},V={};_abTest=function(a,b,c,d,e,f,h,l){return Yo.sequence.resource(d).none().beforeLoading(function(){g.log('adding the google segmentation using a custom (dimension'+a+', '+b+', '+c+')',e,f);Yo.stats().errors.has&&(c+='_error');if('universal'==e){var d=!1;window.ga=function(){if(g.def(a)&&2<arguments.length&&0<=arguments[0].indexOf('set')&&arguments[1]!='dimension'+a){if((window.ga.q= window.ga.q||[]).push(arguments),ga(arguments[0],'dimension'+a,c),d=!0,1==g.def(h)){for(var b=[],e=0;e<window.ga.q.length;e++)if(3!=window.ga.q[e].length||window.ga.q[e][1]!='dimension'+h)b[b.length]=window.ga.q[e];window.ga.q=b}}else(window.ga.q=window.ga.q||[]).push(arguments),1==g.undef(h)&&0==d&&((window.ga.q=window.ga.q||[]).push(['set','dimension'+a,c]),d=!0);_abTestAnalyticsUniversal(arguments)}}else if(g.def(_gaq)){for(var n=1,t=[],k=0;k<_gaq.length;k++)g.def(_gaq[k])&&2<_gaq[k].length&&-1!= _gaq[k][0].indexOf('_setCustomVar')?(1!=g.undef(a)&&_gaq[k][1]==a||1!=g.undef(h)&&_gaq[k][1]==h||(t[t.length]=_gaq[k]),n=k):t[t.length]=_gaq[k];_gaq=t;g.def(a)&&(t='_setCustomVar',0<_gaq.length&&0<_gaq[0].length&&(k=_gaq[0][0].indexOf('.'),-1!=k&&(t=_gaq[0][0].substring(0,k+1)+t)),g.def(l)&&(a=l),_gaq.splice(n,0,[t,a,b,c,g.undef(f)?2:f]));g.log('abTestAnalyticsClassic()');_abTestAnalyticsClassic()}else g.log('Error creating ga information, no selected version',e)})};_getCookieVariant=function(a){return k.getCookie('yo_abtesting_'+ a.name+'v'+a.version)};_setCookieVariant=function(a,b,c){g.setCookie('yo_abtesting_'+a.name+'v'+a.version,b,c)};_configureAbTestAnalytics=function(){var a=config.abTestingAnalytics;g.def(a)&&g.undef(a.loaded)&&(_abTest(void 0,void 0,void 0,a.url,a.gaVersion),g.log('Registering analytics',a.url,a.gaVersion),a.loaded=!0)};_executeAllAbTest=function(){g.undef(f.abTestingAnalytics)?g.log('Analytics for ab testing not properly defined'):'classic'==f.abTestingAnalytics.gaVersion?_executeAllAbTestClassic(): _executeAllAbTestUniversal()};_executeAllAbTestUniversal=function(){for(var a in f.abTesting){var b=f.abTesting[a];_executeAbTest(b);ga('set','dimension'+b.analytics.index,b.valuePrefix+b.name+'_v'+b.version+'_'+b.chosenVariant)}1==J.delayedTrack&&ga('send','pageview')};_executeAllAbTestClassic=function(){var a=null;if(g.def(window._gat)&&g.def(J.uaCode))for(var b=window._gat._getTrackers(),c=0;c<b.length;c++)b[c]._getAccount()==J.uaCode&&(a=b[c]);for(var d in f.abTesting)b=f.abTesting[d],_executeAbTest(b), c=2,'hit'==b.analytics.stickiness?c=3:'visitor'==b.analytics.stickiness&&(c=1),null!=a?a._setCustomVar(b.analytics.index,b.analytics.name,b.valuePrefix+b.name+'_v'+b.version+'_'+b.chosenVariant,c):g.def(window._gaq)&&window._gaq.push(['_setCustomVar',b.analytics.index,b.analytics.name,b.valuePrefix+b.name+'_v'+b.version+'_'+b.chosenVariant,c]);1==J.delayedTrack&&(null!=a?(a._trackPageview(),g.log('pageTracker._trackPageview()')):g.def(window._gaq)?(window._gaq.push(['_trackPageview']),g.log("window._gaq.push(['_trackPageview'])")): g.log('Did not find the UA code so we can not track'))};_executeAbTest=function(a){var b=_getCookieVariant(a);null==b&&(b=_chooseVariant(a));'hit'!=a.stickiness&&_setCookieVariant(a,b,'visitor'==a.stickiness?864E5:60*(g.undef(a.sessionTime)?30:a.sessionTime));g.log('Variant',b,'was chooen for test',a.name);a.chosenVariant=b;a=a.variants[b];if(g.undef(a))'original'!=b&&g.log('Using original content as the variant',b,'was not found');else for(b=0;b<a.targets.length;b++){var c=a.targets[b];'function'== typeof c?c():Yo.sequence.content(c).load()}};_abTestScript=function(a){var b=a.getAttribute(f.pre+'abtestname'),c=f.abTesting[b];if(g.undef(c))g.log('Found variant script for test',b,"but doesn't exist");else if(b=a.getAttribute(f.pre+'variant'),g.def(c.variants[b]))g.log('Variant script with existing name',b,'already exists. This variant will be excluded');else{b=a.getAttribute(f.pre+'variantname');var d=a.getAttribute(f.pre+'splitcondition');g.undef(c.variants[b])?c.variants[b]={splitCondition:d, targets:[a]}:c.variants[b].targets.push(a);g.log('Found script variant',b,'with splitCondition',d)}};_chooseVariant=function(a){var b=a.variants;if('percentage'==a.splitBy){var c=0,d;for(d in b){a=b[d];var e=c;a.splitCondition*=1;c+=a.splitCondition;a.splitCondition+=e}100<b[b.length-1]&&g.log('Total percentage of variants is greater than 100, test will always leave out some variants');c=100*Math.random();for(d in b)if(a=b[d],c<a.splitCondition)return d;return'original'}g.log('Unsupported splitType', a.splitBy,'for test',a.name)};_abTestAnalyticsUniversal=function(a){'send'==a[0]&&g.def(J.delayedTrack)&&(window.ga.q.pop(),J.delayedTrack=!0)};_abTestAnalyticsClassic=function(a){if(g.def(J.delayedTrack)){a=[];for(var b=0;b<_gaq.length;b++)g.undef(_gaq[b])||1>_gaq[b].length||'_trackPageview'!=_gaq[b][0]?('_setAccount'==_gaq[b][0]&&(J.uaCode=_gaq[b][1]),a[a.length]=_gaq[b]):J.delayedTrack=!0;_gaq=a}};V.universal=function(a,b,c,d){return _abTest(a,void 0,b,c,'universal',void 0,d)};V.classic=function(a, b,c,d,e,f){return _abTest(a,b,c,d,'classic',e,f)};V.omniture=function(a,b,c,d){var e=s.t;s.t=function(){c&&(s[c]=d+s[c]);s['eVar'+a]=b;return e.apply(this,arguments)}};V.abTesting=function(a){g.undef(a.variants)&&(a.variants={});g.undef(a.splitBy)&&(a.splitBy='percentage');g.undef(a.stickiness)&&(a.stickiness='session');g.undef(a.version)&&(a.version='0');g.undef(a.analytics)&&(a.analytics={});g.undef(a.analytics.valuePrefix)&&(a.analytics.valuePrefix='yo_abtesting_');g.undef(a.analytics.name)&&(a.analytics.name= 'yottaa_abtest');g.undef(a.valuePrefix)&&(a.valuePrefix='');f.abTesting[a.name]=a};V.abVariant=function(a,b){a=f.abTesting[name];g.undef(a)&&g.log('Test',name,'was not defined');a.variants.push(b)};l.subscribe({topic:'core/load',callback:function(){_executeAllAbTest()}});y.fetch=function(a){var b=ba(a);b.finalize=function(){console.log('FINALIZE',a)};return b};var K={};f.serviceWorker={};K.install=function(a,b){if('serviceWorker'in navigator)return new Promise(function(c,d){k.log('ServiceWorker API present, we will register our worker.'); navigator.serviceWorker.register(a,{scope:b}).then(function(b){k.log('ServiceWorker registration successful',a,b.scope);l.publish({topic:'service-worker/installed',message:{scope:b.scope,scriptURL:b.active?b.active.scriptURL:a}});c(b)}).catch(function(a){k.log('ServiceWorker registration failed: ',a);l.publish({topic:'service-worker/exception',message:a});d(a)})})};K.uninstall=function(a){if('serviceWorker'in navigator)return new Promise(function(b,c){k.log('ServiceWorker API present, we will attempt to unregister our worker.'); K.get(a).then(function(d){d.unregister().then(function(c){k.log('ServiceWorker has been unregistered successfully, ',c);l.publish({topic:'service-worker/uninstalled',message:{scope:d.scope,scriptURL:d.active?d.active.scriptURL:a}});b(d)}).catch(function(b){k.log('Failed to unregister the url',a,b);c(b)})}).catch(function(b){k.log('We did not get the service work for',a,' we cannot unregister',b);c(b)})})};K.update=function(a){if('serviceWorker'in navigator)return new Promise(function(b,c){k.log('ServiceWorker API present, we will attempt to update our worker.'); K.get(a).then(function(d){d.update().then(function(c){k.log('ServiceWorker has been updated successfully, ',c);l.publish({topic:'service-worker/updated',message:{scope:d.scope,scriptURL:d.active?d.active.scriptURL:a}});b(d)}).catch(function(b){k.log('Failed to update the url',a,b);c(b)})}).catch(function(b){k.log('We did not get the service work for',a,' we cannot update',b);c(b)})})};K.capability=function(){return'serviceWorker'in navigator};K.get=function(a){if('serviceWorker'in navigator)return new Promise(function(b, c){navigator.serviceWorker.getRegistrations().then(function(d){k.log('Reqistered Service Workers',d);for(var e=0;e<d.length;e++)if(d[e].active&&null!=d[e].active&&a==d[e].active.scriptURL){b(d[e]);return}c({error:'Script url was not found: '+a})}).catch(function(a){c(a)})})};K.configure=function(a){for(var b in a)f.serviceWorker[b]=a[b];l.publish({topic:'service-worker/configure',message:f.serviceWorker});return f.serviceWorker};'serviceWorker'in navigator&&(k.log('ServiceWorker API present, initialize communication layer'), navigator.serviceWorker.addEventListener('message',function(a){if(a.data&&a.data.topic)return l.publish({topic:a.data.topic,message:{sendFromServiceWorker:!0,originalMessage:a.data.message}})}),l.subscribe({topic:'service-worker/start',callback:function(a,b){Yo.configure({})}}),l.subscribe({topic:/service-worker.*/,callback:function(a,b){if(navigator.serviceWorker.controller&&!0!==a.sendFromServiceWorker)return navigator.serviceWorker.controller.postMessage({message:a,topic:b})}}));var Cb={image:['img-src'], script:['connect-src','script-src','script-src-elem','script-src-attr'],font:['font-src'],media:['media-src'],object:['object-src'],style:['style-src','style-src-elem','style-src-attr']},ca=function(a){this.url=this.key=a;this.timeout=0};ca.match=function(a,b,c){a=Db(a,b,c);if(null!=a)return a;k.log('Did NOT find configuration for ',b,' checking local configuration. ');return null};ca.matchResources=function(a,b,c){if(a.resources)for(var d=0;d<a.resources.length;d++){var e=a.resources[d];if(1==k.matchUrl(e.url, b)){k.log('Found configuration for ',b);var f;if(!(f=k.undef(a.handledResources))){a:{f=b;for(var g=a,h=g.handledResources.length,l=e.handle?e.handle:Number.MAX_VALUE,m=0;m<h;m++){var p=g.handledResources[m];if(p.url==f){p.count++;f=p.count>=l;break a}}g.handledResources.push({url:f,count:1});f=!1}f=0==f}if(f)return e}}return ca.match(a,b,c)};var Db=function(a,b,c){a=a.security;var d=!1;if(a&&a.directives){var e=$a(b),f=ab(a,'default-src'),g=W(f,!1,e,b,a.mode);if(null!=g)return g;if(c=Cb[c]){c=ab(a, c[0]);d=null!=c;g=W(c,!1,e,b,a.mode);if(null!=g)return g;g=W(c,!0,e,b,a.mode);if(null!=g)return g}if(0==d&&(g=W(f,!0,e,b,a.mode),null!=g))return g}return null},W=function(a,b,c,d,e){if(null!=a&&null!=c){var f=a[b?'allow':'block'],g=a[b?'allowProtocol':'blockProtocol'];if(g&&0<g.length&&(g=bb(g,c,d),1==b&&null==g||0==b&&null!=g)||f&&0<f.length&&(g=bb(f,c,d),1==b&&null==g||0==b&&null!=g))return{url:d,urlPrefix:c,directive:a,caughtBy:g,mode:e,block:'active'===e||'enforce'===e}}return null},bb=function(a, b,c){c=a.length;for(var d=0;d<c;d++)if(a[d]){if(a[d].startsWith('*')&&1==k.matchUrl(a[d].substring(1),b))return k.log('Found configuration for ',b),a[d];if(1==b.endsWith('/'+a[d])||1==a[d].endsWith(':')&&1==b.startsWith(a[d]))return a[d]}return null},$a=function(a){a=a.split('/');return 3<=a.length?a.slice(0,3).join('/'):null},ab=function(a,b){if(a.directives)for(var c=a.directives.length,d=0;d<c;d++)if(a.directives[d].type==b)return a.directives[d];return null},cb=function(a,b){var c=this,d=[];this._element= a;this._config=JSON.parse(JSON.stringify(b));this._config.element=ma(a);this._cloneNode=a.cloneNode;this._getAttribute=a.getAttribute;this._setAttribute=a.setAttribute;this._properties={};b.attrs&&(d=b.attrs.slice(0));this._config.events&&(this._addEventListener=a.addEventListener,a.addEventListener=function(){if(1==L(c,this,'addEventListener',arguments[0])){var a=Array.prototype.slice.call(arguments);return c._addEventListener.apply(this,a)}},d=d.concat(this._config.events));a.getAttribute=function(a){return 1== L(c,this,'getAttribute',a)?c._getAttribute.apply(this,[a]):null};a.setAttribute=function(a,b){if(1==L(c,this,'setAttribute',a))return c._setAttribute.apply(this,[a,b])};a.cloneNode=function(a){if(1==L(c,this,'cloneNode',''))return c._cloneNode.apply(this,[a])};for(a=0;a<d.length;a++)this.wrapProperty(this._element,d[a])};cb.prototype.wrapProperty=function(a,b){var c=this,d={configurable:!0},e=!0,f=!0;1==b.startsWith('>')?(e=!1,b=b.substring(1)):1==b.startsWith('<')&&(f=!1,b=b.substring(1));this._properties[b]= {configurable:!0,get:a.__lookupGetter__('value'),set:a.__lookupSetter__('value')};d.get=function(){return!0===(0==e||L(c,this,'grab property',b))?c._cloneNode.call(this,!0)[b]:''};d.set=function(d){!0===(0==f||L(c,this,'set property',b))&&(0==b.startsWith('on')?(c._cloneNode.call(this,!0)[b]=d,Object.defineProperty(a,b,c._properties[b]),c._element[b]=d,c.wrapProperty(c._element,b)):c._addEventListener.apply(this,[b.substring(2),d,!1]))};Object.defineProperty(a,b,d)};var Ba=function(a,b){this._element= a;this._config=b;if(b.functions)for(var c=0;c<b.functions.length;c++)try{this.wrapFunction(a,b.functions[c])}catch(d){x.utils.log('Error wrapping function name',b.functions[c],'error',d)}if(b.properties)for(c=0;c<b.properties.length;c++)try{this.wrapProperty(a,b.properties[c])}catch(d){x.utils.log('Error wrapping function name',b.functions[c],'error',d)}};Ba.prototype.wrapFunction=function(a,b){var c=this;c[b]=a[b];a[b]=function(){if(!0===L(c,this,'function',b)){var a=Array.prototype.slice.call(arguments); return c[b].apply(this,a)}return''}};Ba.prototype.wrapProperty=function(a,b){var c=this,d={},e=!0,f=!0;c[b]=a[b];1==b.startsWith('>')?(e=!1,b=b.substring(1)):1==b.startsWith('<')&&(f=!1,b=b.substring(1));var g=a[b];d.get=function(){return!0===(0==e||L(c,this,'get property',b))?c._config.getterOverride?c._config.getterOverride.call(this,b,g):g:''};d.set=function(a){!0===(0==f||L(c,this,'set property',b))&&(c._config.setterOverride&&c._config.setterOverride.call(this,b,g,a),g=a)};Object.defineProperty(a, b,d)};var u={},na=[];u.securePage=function(a){a.selector='form';u.secureForms(a);a.selector='input';u.secureInputs(a);u.secureStorage(a);u.secureObject(a)};u.secureStorage=function(a){a.functions=['setItem','getItem','removeItem','clear'];a.object=window.sessionStorage.__proto__;u.secureObject(a);a.functions=['setItem','getItem','removeItem','clear'];a.object=window.localStorage.__proto__;u.secureObject(a);a.properties=['cookie'];a.object=document;a.setterOverride=function(a,c,d){a=document.createElement('iframe'); a.style.display='none';a.style.width='1px';a.style.height='1px';document.body.appendChild(a);c=a.contentWindow||a.contentDocument;c.document.open();c.eval("document.cookie='"+d+"';");c.document.close();document.body.removeChild(a)};a.getterOverride=function(a,c){a=document.createElement('iframe');a.style.display='none';a.style.width='1px';a.style.height='1px';document.body.appendChild(a);c=a.contentWindow||a.contentDocument.document||a.contentDocument;c.document.open();var b=c.document.cookie;c.document.close(); document.body.removeChild(a);return b};u.secureObject(a)};u.secureDom=function(a){a.functions=['createElement','createElementNS','write','writeln'];a.object=document;u.secureObject(a);a.functions=['cloneNode'];a.properties=['innerHTML'];a.elementName='HTMLElement';a.object=HTMLElement.prototype;a.getterOverride=function(a,c){if('innerHTML'==a)return this.cloneNode(!0).innerHTML};a.setterOverride=function(a,c,d){'innerHTML'==a&&(a=this.cloneNode(!0),a.innerHTML=d,this.parentNode.replaceChild(a,this))}; u.secureObject(a)};u.secureForms=function(a){a.attrs=['action'];a.events=['onsubmit'];u.secureElements(a)};u.secureInputs=function(a){a.attrs=['value'];a.events=['onchange','onkeyup','onkeydown'];u.secureElements(a)};u.secureElements=function(a){db(a);var b=a.selector;b=x.utils.def(b.nodeName)?[b]:document.querySelectorAll?document.querySelectorAll(b):[x.utils.selector(b)];if(null!=b)for(var c=0;c<b.length;c++)if(0==eb(b[c])){var d=new cb(b[c],a);na.push(d)}};u.secureObject=function(a){0==eb(a.object)&& (db(a),a=new Ba(a.object,a),na.push(a))};var db=function(a){a.allow?(a.ogAllow=a.allow.slice(),oa(a,!0)):(a.ogAllow=["'self'"],a.allow=[window.location.host]);a.block?(a.ogBlock=a.block.slice(),oa(a,!1)):a.block=[];1==x.utils.undef(a.mode)&&(a.mode='report-only');return a},ma=function(a){try{if(a instanceof HTMLElement){var b='<'+a.nodeName.toLowerCase();if(a.getAttribute){var c=a.getAttribute('name'),d=a.getAttribute('id'),e=a.getAttribute('class');null!=c&&0<c.length&&(b+=' name="'+c+'" ');null!= d&&0<d.length&&(b+=' id="'+d+'" ');null!=e&&0<e.length&&(b+=' class="'+d+' ')}return b+'>'}return a.toString?a.toString():'[Object]'}catch(n){}},eb=function(a){for(var b=0;b<na.length;b++)if(a==na[b]._element)return!0;return!1},L=function(a,b,c,d){try{var e='';e=Error().stack;if(null==e||0==e.length)var f=[];else{for(var g=e.split('\n'),h=[],l=0;l<g.length;l++){var k=g[l].split(/http:|https:/);if(1<k.length){var m='',p='',q='',r=k[1].lastIndexOf(':');-1!=r&&(q=k[1].substring(r+1),q.endsWith(')')&& (q=q.substring(0,q.length-1)),m=k[1].substring(0,r));r=m.lastIndexOf(':');-1!=r&&(p=m.substring(r+1),m=m.substring(0,r));h.push({url:m,prefix:$a(m),column:q,row:p})}}f=h}g=null;for(h=0;h<f.length;h++){var u=f[h],v=W(a._config,!0,u.prefix,u.url,a._config.mode);if(null!=v&&!0===v.block)return v.column=u.column,v.row=u.row,a._config.element=a._config.element||ma(b),Ca(a._config,e,v,'enforce',c,d),v;null==g&&null!=v&&(v.column=u.column,v.row=u.row,g=v);v=W(a._config,!1,u.prefix,u.url,a._config.mode); if(null!=v&&!0===v.block)return v.column=u.column,v.row=u.row,a._config.element=a._config.element||ma(b),Ca(a._config,e,v,'enforce',c,d),v;null==g&&null!=v&&(v.column=u.column,v.row=u.row,g=v)}null!=g&&(a._config.element=a._config.element||ma(b),Ca(a._config,e,g,'report-only',c,d))}catch(Kb){}return!0},Ca=function(a,b,c,d,e,f){g.log('_sendPageCSPReport',a,c,d);var h;if((h=x.stats().config.security)&&(h=h.report_uri)&&0!=h.length){var n='';a.allow?n=a.element+' '+e+'-'+f+' (allow '+a.ogAllow.join(' ')+ ')':a.block&&(n=a.element+' '+e+'-'+f+' (block '+a.ogBlock.join(' ')+')');a={'csp-report':{'document-uri':window.location.toString(),disposition:d,columnNumber:c.column,lineNumber:c.row,'blocked-uri':c.url,'original-policy':b,'violated-directive':n,referrer:document.referrer,source:'rapid-page-security'}};l.publish({topic:'security/csp-report',message:{'report-uri':h,message:{'csp-reports':[a]}}});fb(h);w.cspReports.push(a);10<=w.cspReports.length&&Da(h)}},gb={},Ea=null;gb.honey=function(a){l.subscribe({topic:'security/plugin/mutation', callback:function(b){if(b&&b.addedNodes)for(var c=0;c<b.addedNodes.length;c++){var d=b.addedNodes[c];0<=(d.outerHTML||'').toLowerCase().indexOf('honey')&&('remove'==a?d.parentNode.removeChild(d):'hide'==a&&d.setAttribute('style','display: none;'),l.publish({topic:'security/plugin/honey',message:d}),z.addViolation(6,'https://cdn.honey.io/honey.js'))}}});Eb()};var Eb=function(){null==Ea&&(Ea=new MutationObserver(function(a){for(var b=0;b<a.length;b++)l.publish({topic:'security/plugin/mutation',message:a[b]})}), Ea.observe(document,{childList:!0,subtree:!0}))},w={resource:function(){return ca}};w.secureForms=u.secureForms;w.secureInputs=u.secureInputs;w.secureElements=u.secureElements;w.secureStorage=u.secureStorage;w.secureObject=u.secureObject;w.secureDom=u.secureDom;w.securePage=u.securePage;w.plugin=gb;w.cspReports=[];w.gotAReport=!1;w.lastReadResoure=0;w.configure=function(a){x.utils.log('Adding csp-header');for(var b='',c=a.directives?a.directives.length:0,d=0;d<c;d++){var e=a.directives[d];e.allow&& 0<e.allow.length&&(b+=e.type+' ',b+=e.allow.join(' '),d<c-1&&(b+='; '))}(c=a.report_uri)&&0<c.length&&(b+='; report-uri '+c);a.cspContent=b;x.stats().config.security=a;'csp-meta-tag'===a.implementation?Fb(a,a.cspContent):'service-worker'===a.implementation&&(x.serviceWorker?Gb(a):x.utils.log('Security can use Service Worker its not available.'));l.publish({topic:'security/configure',message:a})};var Fb=function(a,b){if('active'===a.mode||'enforce'===a.mode){var c=document.createElement('meta');c.setAttribute('http-equiv', 'Content-Security-Policy');c.setAttribute('content',b);document.head.appendChild(c)}else g.log('Browsers dont support report-only meta tag. We will poly fill this implementation.'),window.performance&&window.performance.getEntries&&(l.subscribe({topic:'sequence/captured',callback:function(){hb()}}),k.addEvent(window,'unload',function(){hb()}));ib(a)},Gb=function(a){a=ib(a);x.serviceWorker.configure({messageBridge:!0,security:a});Yo.pubsub.subscribe({topic:'service-worker/security/report-only',callback:function(a){Fa(a.originalMessage, 'report')}});Yo.pubsub.subscribe({topic:'service-worker/security/blocked',callback:function(a){Fa(a.originalMessage,'enforce')}})},Fa=function(a,b){g.log('_sendCSPReport',a,b);var c=x.stats().config.security,d=c.report_uri;if(d&&0!=d.length){fb(d);var e='service-worker-csp',f=a.control.directive.type;a.control.directive.allow?f+='-allow '+a.control.directive.ogAllow.join(' '):(f=a.control.directive.block?f+('-block '+a.control.directive.ogBlock.join(' ')):f+'-block ',e='service-worker-block');b={'csp-report':{'document-uri':window.location.toString(), 'blocked-uri':a.url,disposition:b,'original-policy':c.cspContent,'violated-directive':f,referrer:document.referrer,source:e}};a.source&&(b['csp-report'].source=a.source);w.cspReports.push(b);10<=w.cspReports.length&&Da(d);l.publish({topic:'security/csp-report',message:{'report-uri':d,message:{'csp-reports':[b]}}})}},fb=function(a){0==w.gotAReport&&(w.gotAReport=!0,k.addEvent(window,'beforeunload',function(){k.log('unload window event send any CSP reports');Da(a)}))},Da=function(a){0<w.cspReports.length&& (k.sendData({'csp-reports':w.cspReports},a),g.log('CSP Report data was send to server',a,w.cspReports),w.cspReports=[])},ib=function(a){if(a&&a.directives)for(var b=a.directives.length,c=0;c<b;c++){var d=a.directives[c];d.allow&&(d.ogAllow=d.allow.slice(),oa(d,!0));d.block&&(d.ogBlock=d.block.slice(),oa(d,!1))}return a},oa=function(a,b){for(var c=a[b?'allow':'block'],d=c.length,e=0;e<d;e++)if("'self'"===c[e])c[e]=window.location.host;else if(0<=c[e].indexOf('http:')||0<=c[e].indexOf('https:')){var f= a[b?'allowProtocol':'blockProtocol'];f||(f=[],a[b?'allowProtocol':'blockProtocol']=f);f.push(c[e]);c[e]=null}},hb=function(){for(var a=window.performance.getEntries(),b=a.length,c=w.lastReadResoure;c<b;c++){var d=a[c];if('resource'==d.entryType){var e=ca.match(x.stats().config,d.name,d.initiatorType);null!==e&&Fa({url:d.name,destination:d.initiatorType,control:e},'report-only')}}w.lastReadResoure=b-1};f.services=[];var X={add:function(a){a={afterLoaded:ya,beforeLoading:xa,host:a.host,key:'*'+a.host+ '*',properties:a,name:a.name,budget:a.budget};f.services.push(a);l.publish({topic:'services/add',message:a});return a},findByHost:function(a){for(var b=X.list(),c=0;c<b.length;c++){var d=b[c];if(1==g.matchUrl(d.host,a))return g.log('Found service configuration for '+a+' service ',d),d}g.log('Did NOT find service configuration for '+a+' checking local configuration. ');return null},findByName:function(a){for(var b=X.list(),c=0;c<b.length;c++){var d=b[c];if(d.name==a)return g.log('Found service configuration for '+ a+' service ',d),d}g.log('Did NOT find service configuration for '+a+' checking local configuration. ');return null},list:function(){return f.services}},R={};f.scheduling={onLoadTime:null,lastScheduleTime:6E3,last:100,step:100,scheduled:!1,hosts:[],priorities:{low:{last:3E3,step:100},medium:{last:1E3,step:100},high:{last:100,step:100},critical:{last:-1}},prioritiesToKeep:[],serviceToKeep:[],budgetTime:!1,servicesToBudget:[],loadTime:(new Date).getTime()};R.resource=function(a){return{afterLoaded:ya, beforeLoading:xa,src:a,key:'*'+a+'*'}};R.bestFit=function(){f.scheduling.type='bestfit';f.scheduling.scheduled=!0};R.priority=function(a){f.scheduling.type='priority';f.scheduling.scheduled=!0;if(a&&a.services)for(var b=0;b<a.services.length;b++)Yo.services.add(a.services[b])};R.spread=function(a){f.scheduling.type='spread';g.def(a)&&(f.scheduling.step=a);f.scheduling.scheduled=!0};R.configure=function(a){for(var b in a)f.scheduling[b]=a[b];l.publish({topic:'schedule/configure',message:f});return f.scheduling}; R.budget=function(a){if(a){a.budgetTime&&(f.scheduling.budgetTime=a.budgetTime);a.prioritiesToKeep&&(f.scheduling.prioritiesToKeep=a.prioritiesToKeep);if(a.servicesToBudget){f.scheduling.servicesToBudget=a.servicesToBudget;for(var b=0;b<a.servicesToBudget.length;b++){var c=a.servicesToBudget[b];c.budget=!0;Yo.services.add(c)}}f.scheduling.budgeter=a.budgeter?a.budgeter:Hb}};l.subscribe({topic:'core/start',callback:function(){}});l.subscribe({topic:'sequence/captured',callback:function(a,b){null!= f.scheduling.onLoadTime&&(new Date).getTime()>f.scheduling.onLoadTime+f.scheduling.lastScheduleTime?g.log('Scheduling has expired',f.scheduling.lastScheduleTime):1==f.scheduling.scheduled&&('spread'==f.scheduling.type?Ga(a,b):'bestfit'!=f.scheduling.type&&'priority'==f.scheduling.type&&Ib(a,b))}});var Ib=function(a,b){if(a.newNode){var c=a.newNode.src;if(c&&0<c.length){var d=Ha(c),e=X.findByHost(d);if(null!=d&&-1==f.scheduling.hosts.indexOf(d)){if(null==e)return Ga(a,b);var h=f.scheduling.priorities[e.properties.priority]; g.log('Service found ',e.properties.name,e.properties.priority);if(1==g.undef(h))return Ga(a,b);0<=h.last&&(h.last+=h.step,l.subscribe({topic:'sequence/beforeloading/*'+d+'*',callback:function(){-1==f.scheduling.hosts.indexOf(d)&&f.scheduling.hosts.push(d)}}),b=null!=f.scheduling.budgeter?f.scheduling.budgeter(e,c,a,f.scheduling):!1,g.log('Scheduling resource ',a.newNode.src,d,'defer',h.last,', isBudgeted = ',b),1==b?a.newNode.delayType='remove':(a.newNode.delayType='defer',a.newNode.delayValue=h.last))}}}}, Ga=function(a,b){if(a.newNode&&(b=a.newNode.src)&&0<b.length){var c=Ha(b),d=X.findByHost(b);null!=c&&-1==f.scheduling.hosts.indexOf(c)&&(f.scheduling.last+=f.scheduling.step,l.subscribe({topic:'sequence/beforeloading/*'+c+'*',callback:function(){-1==f.scheduling.hosts.indexOf(c)&&f.scheduling.hosts.push(c)}}),b=null!=f.scheduling.budgeter?f.scheduling.budgeter(d,b,a,f.scheduling):!1,g.log('Scheduling resource ',a.newNode.src,c,'defer',f.scheduling.last,', isBudgeted = ',b),1==b?a.newNode.delayType= 'remove':(a.newNode.delayType='defer',a.newNode.delayValue=f.scheduling.last))}},Hb=function(a,b,c,d){c=d.budgetTime;var e=Ha(b);if(!1!==c){if((new Date).getTime()-f.scheduling.loadTime>=c){if(-1!=d.hosts.indexOf(e))return!1;if(d.servicesToBudget&&0<d.servicesToBudget.length)return(a=X.findByHost(b))&&!0===a.budget?(z.addViolation(5,b),!0):!1;if(-1!=d.prioritiesToKeep.indexOf(a.properties.priority)||null!=a&&0==a.budget)return!1;z.addViolation(5,b);return!0}null!=a&&(a.budget=!1)}return!1},Ha=function(a){return(a= a.split('/')[2])?a=a.split('.').slice(-2).join('.'):null};l.subscribe({topic:'core/load',callback:function(){f.scheduling.onLoadTime=(new Date).getTime()}});var Ia={create:function(a){var b=f;-1==b.srcAttrs.indexOf('data-src')&&b.srcAttrs.push('data-src');-1==b.srcAttrs.indexOf('data-srcset')&&b.srcAttrs.push('data-srcset');b.imagePipeline=a;l.subscribe({topic:'sequence/beforeloading/*',callback:function(b,d){g.log('Yo.imagePipeline.beforeLoading - ',b);d=b.before;var c=a.optimizer||Ia.optimizer; c&&d&&d.nodeName&&'img'==d.nodeName.toLowerCase()&&(d=c(d,b.srcAttr))&&(g.log('Yo.imagePipeline updating image src - ',d),b.srcAttr=d)}})},rewrite:function(a,b){if(-1==b.indexOf('.yottaa.net')){var c=Yo.stats().config.imagePipeline;g.log('Yo.imagePipeline.rewrite',c,a,b);return location.protocol+c.cdn+'/'+c.profileId+'/'+a+'/'+c.version+'/'+b}},optimizer:function(a,b,c){g.log('Yo.imagePipeline default image optimized',a,b);c=c||[];(a=g.browser())&&'chrome'===a.name?c.push('f_webp'):a&&'safari'=== a.name&&13<=a.version&&c.push('f_jp2');return Ia.rewrite('o~'+c.join(','),b)}};window.Yo||(window.Yo={});var x={utils:g,pubsub:l,configure:function(a,b){if('string'===typeof a){var c='ul= dl= dt= sd= sr= vp= ct= rtt='.split(' ');c[0]+=navigator.language;c[1]+=encodeURIComponent(window.location.href.substring(0,1E3));c[2]+=encodeURIComponent(document.title);c[3]+=window.screen.colorDepth;c[4]+=window.screen.width+','+window.screen.height;c[5]+=window.screen.availWidth+','+window.screen.availHeight; if(b)for(var d in b)c.push(d+'='+encodeURIComponent(b[d]));b=navigator.connection||navigator.mozConnection||navigator.webkitConnection;c[6]+=b?b.effectiveType:'unknown';c[7]+=b?b.rtt:'unknown';try{if(window.sessionStorage&&sessionStorage.getItem){var e=sessionStorage.getItem('rapid.testVariations');if(e&&'undefined'!=e){var g=JSON.parse(e);for(b=0;b<g.length;b++)1==g[b].sticky&&c.push('testVariation='+g[b].testId+'-'+g[b].variationName)}if(-1!=(iPos=window.location.hash.indexOf('yoQoeConfig='))){var h= window.location.hash.substring(iPos+12).split('&');c=c.concat(h)}}}catch(nb){k.log('sessionStorage was not available')}g=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject('Microsoft.XMLHTTP');g.open('GET',a+'&'+c.join('&'),!1);g.send('');a=document.createElement('script');a.type='text/javascript';a.text=g.responseText;document.getElementsByTagName('head')[0].appendChild(a);try{window.sessionStorage&&sessionStorage.setItem&&(e=z.get().testVariations)&&sessionStorage.setItem('rapid.testVariations', JSON.stringify(e))}catch(nb){k.log('sessionStorage was not available')}}else for(d in a)'resources'==d?f.resources=f.resources.concat(a.resources):f[d]=a[d];l.publish({topic:'core/configure',message:f})},sequence:y,rum:z,abTesting:V,insert:{HEAD_START:'head_start',HEAD_END:'head_end',BODY_START:'body_start',BODY_END:'body_end',location:function(a){null!=document.body?document.write("<di'+'v id='yo_tag_"+a+"'></di'+'v>"):document.write("<script id='yo_tag_"+a+"'>\x3c/script>");l.publish({topic:'tag/location/'+ a,persistent:!0})},resource:function(a,b,c,d){var e=Yo.sequence.script(a);e.loaded=!0;l.subscribe({topic:'tag/location/'+b,callback:function(){var a=g.select('#yo_tag_'+b);Yo.sequence.node(a);c&&''!=c||(c='none');e[c](d);e.loaded=!1;e.load(a)}});return e},script:function(a,b,c,d){var e=Yo.sequence.script(a);e.loaded=!0;l.subscribe({topic:'tag/location/'+b,callback:function(){c&&''!=c||(c='none');e[c](d);e.loaded=!1;e.eval()}});return e},content:function(a,b,c,d){var e=document.createElement('script'); c&&''!=c||(c='none');e.setAttribute('type','yo/sequencing/'+c+'/'+d);var f=Yo.sequence.content(e);f.loaded=!0;0==b.indexOf('css:')?l.subscribe({topic:'core/load',callback:function(){g.def(a.nodeName)?e.appendChild(a):e.innerHTML=a;var c=b.split(':');f.before=g.select(c[1]);3==c.length&&('after'==c[2]?null==f.before.nextSibling?(f.before=f.before.parentNode,f.how='append'):f.before=f.before.nextSibling:'prepend'==c[2]?0<f.before.childNodes.length?f.before=f.before.childNodes[0]:f.how='append':'append'== c[2]&&(f.how='append'));f.loaded=!1;f.load()}}):l.subscribe({topic:'tag/location/'+b,callback:function(){g.def(a.nodeName)?e.appendChild(a):e.innerHTML=a;f.loaded=!1;f.before=g.select('#yo_tag_'+b);f.load()}});return f}},stats:va,geo:function(){if(0===arguments.length)return E.geo;1===arguments.length&&(E.geo=arguments[0],l.publish({topic:'core/geo',message:arguments[0]}))},serviceWorker:K,security:w,schedule:R,services:X,imagePipeline:Ia,spa:{trackMetrics:function(){z.spa()},startTransition:function(a, b){return l.publish({topic:'rum/spa/transition/start',message:{pageType:a,viewType:b}})},finishedRendering:function(a,b){return l.publish({topic:'rum/spa/rendered',message:{pageType:a,viewType:b}})}}};window.Yo=x;l.publish({topic:'core/start',message:x});return x}); 